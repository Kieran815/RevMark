{"map":"{\"version\":3,\"sources\":[\"8673774c-932729373e384ae979ab.js\"],\"names\":[\"window\",\"push\",\"NSPt\",\"module\",\"exports\",\"__webpack_require__\",\"process\",\"Object\",\"defineProperty\",\"value\",\"ex\",\"id\",\"firebase\",\"tslib\",\"util\",\"logger$1\",\"component\",\"DOMStorageWrapper\",\"domStorage_\",\"this\",\"prefix_\",\"prototype\",\"set\",\"key\",\"removeItem\",\"prefixedName_\",\"setItem\",\"stringify\",\"get\",\"storedVal\",\"getItem\",\"jsonEval\",\"remove\",\"name\",\"toString\",\"MemoryStorage\",\"cache_\",\"isInMemoryStorage\",\"contains\",\"createStoragefor\",\"domStorageName\",\"domStorage\",\"e\",\"PersistentStorage\",\"SessionStorage\",\"logClient\",\"Logger\",\"LUIDGenerator\",\"sha1\",\"str\",\"utf8Bytes\",\"stringToByteArray\",\"Sha1\",\"update\",\"sha1Bytes\",\"digest\",\"base64\",\"encodeByteArray\",\"buildLogMessage_\",\"varArgs\",\"_i\",\"arguments\",\"length\",\"message\",\"i\",\"arg\",\"Array\",\"isArray\",\"apply\",\"logger\",\"firstLog_\",\"enableLogging\",\"logger_\",\"persistent\",\"assert\",\"logLevel\",\"LogLevel\",\"VERBOSE\",\"log\",\"bind\",\"logWrapper\",\"prefix\",\"__spread\",\"error\",\"fatal\",\"Error\",\"warn\",\"isInvalidJSONNumber\",\"data\",\"Number\",\"POSITIVE_INFINITY\",\"NEGATIVE_INFINITY\",\"MIN_NAME\",\"MAX_NAME\",\"nameCompare\",\"a\",\"b\",\"aAsInt\",\"tryParseInt\",\"bAsInt\",\"stringCompare\",\"requireKey\",\"obj\",\"ObjectToUniqueKey\",\"keys\",\"k\",\"sort\",\"splitStringBySize\",\"segsize\",\"len\",\"dataSegs\",\"c\",\"substring\",\"each\",\"fn\",\"hasOwnProperty\",\"doubleToIEEE754String\",\"v\",\"s\",\"f\",\"ln\",\"Infinity\",\"Math\",\"abs\",\"pow\",\"min\",\"floor\",\"LN2\",\"round\",\"bits\",\"reverse\",\"join\",\"hexByteString\",\"hexByte\",\"parseInt\",\"substr\",\"toLowerCase\",\"INTEGER_REGEXP_\",\"RegExp\",\"test\",\"intVal\",\"exceptionGuard\",\"setTimeout\",\"stack\",\"setTimeoutNonBlocking\",\"time\",\"timeout\",\"Path\",\"pathOrString\",\"pieceNum\",\"pieces_\",\"split\",\"copyTo\",\"pieceNum_\",\"enumerable\",\"configurable\",\"getFront\",\"getLength\",\"popFront\",\"getBack\",\"pathString\",\"toUrlEncodedString\",\"encodeURIComponent\",\"String\",\"slice\",\"begin\",\"parent\",\"pieces\",\"child\",\"childPathObj\",\"childPieces\",\"isEmpty\",\"relativePath\",\"outerPath\",\"innerPath\",\"outer\",\"inner\",\"comparePaths\",\"left\",\"right\",\"leftKeys\",\"rightKeys\",\"cmp\",\"equals\",\"other\",\"j\",\"ValidationPath\",\"path\",\"errorPrefix_\",\"parts_\",\"byteLength_\",\"max\",\"stringLength\",\"checkValid_\",\"pop\",\"last\",\"MAX_PATH_LENGTH_BYTES\",\"MAX_PATH_DEPTH\",\"toErrorString\",\"RepoInfo\",\"host\",\"secure\",\"namespace\",\"webSocketOnly\",\"persistenceKey\",\"includeNamespaceInQueryParams\",\"domain\",\"indexOf\",\"internalHost\",\"needsQueryParam\",\"isCustomHost\",\"isCacheableHost\",\"isDemoHost\",\"updateHost\",\"newHost\",\"connectionURL\",\"type\",\"params\",\"connURL\",\"pairs\",\"toURLString\",\"PUSH_CHARS\",\"lastPushTime\",\"lastRandChars\",\"__EMPTY_NODE\",\"MAX_NODE\",\"parseRepoInfo\",\"dataURL\",\"parsedUrl\",\"parseDatabaseURL\",\"location\",\"protocol\",\"scheme\",\"repoInfo\",\"subdomain\",\"port\",\"colonInd\",\"slashInd\",\"questionMarkInd\",\"pathStringDecoded\",\"piece\",\"decodeURIComponent\",\"replace\",\"decodePath\",\"queryParams\",\"queryString\",\"e_1\",\"_a\",\"results\",\"charAt\",\"_b\",\"__values\",\"_c\",\"next\",\"done\",\"segment\",\"kv\",\"e_1_1\",\"call\",\"decodeQuery\",\"parts\",\"INVALID_KEY_REGEX_\",\"INVALID_PATH_REGEX_\",\"isValidKey\",\"isValidPathString\",\"isValidPriority\",\"priority\",\"validateFirebaseDataArg\",\"fnName\",\"argumentNumber\",\"optional\",\"undefined\",\"validateFirebaseData\",\"errorPrefix\",\"path_\",\"hasDotValue_1\",\"hasActualChild_1\",\"validateFirebaseMergeDataArg\",\"mergePaths\",\"curPath\",\"prevPath\",\"validateFirebaseMergePaths\",\"validatePriority\",\"validateEventType\",\"eventType\",\"validateKey\",\"validatePathString\",\"validateRootPathString\",\"validateWritablePath\",\"validateUrl\",\"isValidRootPathString\",\"validateBoolean\",\"bool\",\"OnDisconnect\",\"repo_\",\"cancel\",\"onComplete\",\"validateArgCount\",\"validateCallback\",\"deferred\",\"Deferred\",\"onDisconnectCancel\",\"wrapCallback\",\"promise\",\"onDisconnectSet\",\"setWithPriority\",\"onDisconnectSetWithPriority\",\"objectToMerge\",\"newObjectToMerge\",\"onDisconnectUpdate\",\"TransactionResult\",\"committed\",\"snapshot\",\"toJSON\",\"nextPushId\",\"now\",\"duplicateTime\",\"timeStampChars\",\"random\",\"NamedNode\",\"node\",\"Wrap\",\"Index\",\"getCompare\",\"compare\",\"indexedValueChanged\",\"oldNode\",\"newNode\",\"oldWrapped\",\"newWrapped\",\"minPost\",\"MIN\",\"KeyIndex\",\"_super\",\"__extends\",\"val\",\"isDefinedOn\",\"assertionError\",\"maxPost\",\"makePost\",\"indexValue\",\"KEY_INDEX\",\"__childrenNodeConstructor\",\"nodeFromJSON\",\"MAX_NODE$1\",\"priorityHashText\",\"validatePriorityNode\",\"priorityNode\",\"isLeafNode\",\"getPriority\",\"LeafNode\",\"value_\",\"priorityNode_\",\"EMPTY_NODE\",\"lazyHash_\",\"updatePriority\",\"newPriorityNode\",\"getImmediateChild\",\"childName\",\"getChild\",\"hasChild\",\"getPredecessorChildName\",\"childNode\",\"updateImmediateChild\",\"newChildNode\",\"updateChild\",\"front\",\"numChildren\",\"forEachChild\",\"index\",\"action\",\"exportFormat\",\".value\",\"getValue\",\".priority\",\"hash\",\"toHash\",\"compareTo\",\"compareToLeafNode_\",\"otherLeaf\",\"otherLeafType\",\"thisLeafType\",\"otherIndex\",\"VALUE_TYPE_ORDER\",\"thisIndex\",\"withIndex\",\"isIndexed\",\"_defaultIndexMap\",\"PRIORITY_INDEX\",\"PriorityIndex\",\"aPriority\",\"bPriority\",\"indexCmp\",\"SortedMapIterator\",\"startKey\",\"comparator\",\"isReverse_\",\"resultGenerator_\",\"nodeStack_\",\"getNext\",\"result\",\"hasNext\",\"peek\",\"LLRBNode\",\"color\",\"RED\",\"SortedMap\",\"copy\",\"count\",\"inorderTraversal\",\"reverseTraversal\",\"min_\",\"minKey\",\"maxKey\",\"insert\",\"n\",\"fixUp_\",\"removeMin_\",\"isRed_\",\"moveRedLeft_\",\"smallest\",\"rotateRight_\",\"moveRedRight_\",\"rotateLeft_\",\"colorFlip_\",\"nl\",\"nr\",\"checkMaxDepth_\",\"blackDepth\",\"check_\",\"BLACK\",\"LLRBEmptyNode\",\"comparator_\",\"root_\",\"getPredecessorKey\",\"rightParent\",\"getIterator\",\"resultGenerator\",\"getIteratorFrom\",\"getReverseIteratorFrom\",\"getReverseIterator\",\"LOG_2\",\"Base12Num\",\"num\",\"current_\",\"mask\",\"bits_\",\"nextBitIsOne\",\"buildChildSet\",\"childList\",\"keyFn\",\"mapSortFn\",\"root\",\"base12\",\"buildPennant\",\"chunkSize\",\"low\",\"high\",\"childTree\",\"buildBalancedTree\",\"namedNode\",\"middle\",\"attachPennant\",\"pennant\",\"isOne\",\"buildFrom12Array\",\"fallbackObject\",\"IndexMap\",\"indexes_\",\"indexSet_\",\"indexKey\",\"sortedMap\",\"safeGet\",\"hasIndex\",\"indexDefinition\",\"addIndex\",\"existingChildren\",\"newIndex\",\"sawIndexedValue\",\"iter\",\"indexName\",\"newIndexSet\",\"__assign\",\"newIndexes\",\"addToIndexes\",\"_this\",\"map\",\"indexedChildren\",\"existingSnap\",\"newChildren\",\"removeFromIndexes\",\"NAME_ONLY_COMPARATOR\",\"NAME_COMPARATOR\",\"ChildrenNode\",\"children_\",\"indexMap_\",\"Default\",\"newIndexMap\",\"newPriority\",\"newImmediateChild\",\"numKeys\",\"allIntegerKeys\",\"array\",\"toHash_1\",\"childHash\",\"idx\",\"resolveIndex_\",\"predecessor\",\"getFirstChildName\",\"getFirstChild\",\"getLastChildName\",\"getLastChild\",\"wrappedNode\",\"startPost\",\"iterator\",\"endPost\",\"MAX_NODE$2\",\"otherChildrenNode\",\"thisIter\",\"otherIter\",\"thisCurrent\",\"otherCurrent\",\"MaxNode\",\"defineProperties\",\"MAX\",\"setMaxNode$1\",\"nodeFromJSON$1\",\"json\",\"node_1\",\"childData\",\"children_1\",\"childrenHavePriority_1\",\"childSet\",\"sortedChildSet\",\"setNodeFromJSON\",\"__referenceConstructor\",\"OperationType\",\"VALUE_INDEX\",\"ValueIndex\",\"valueNode\",\"PathIndex\",\"indexPath_\",\"extractChild\",\"snap\",\"aChild\",\"bChild\",\"DataSnapshot\",\"node_\",\"ref_\",\"index_\",\"exportVal\",\"exists\",\"childPathString\",\"childPath\",\"childRef\",\"forEach\",\"childrenNode\",\"hasChildren\",\"getKey\",\"getRef\",\"DataEvent\",\"eventRegistration\",\"prevName\",\"getPath\",\"ref\",\"getParent\",\"getEventType\",\"getEventRunner\",\"CancelEvent\",\"ValueEventRegistration\",\"callback_\",\"cancelCallback_\",\"context_\",\"respondsTo\",\"createEvent\",\"change\",\"query\",\"getQueryParams\",\"getIndex\",\"snapshotNode\",\"eventData\",\"ctx\",\"cancelCB_1\",\"cb_1\",\"createCancelEvent\",\"matches\",\"hasAnyCallback\",\"ChildEventRegistration\",\"callbacks_\",\"eventToCheck\",\"cancelCB_2\",\"cb_2\",\"otherKeys\",\"thisKeys\",\"otherCount\",\"otherKey\",\"thisKey\",\"every\",\"Query\",\"repo\",\"queryParams_\",\"orderByCalled_\",\"validateQueryEndpoints_\",\"startNode\",\"endNode\",\"hasStart\",\"getIndexStartValue\",\"hasEnd\",\"getIndexEndValue\",\"tooManyArgsError\",\"wrongArgTypeError\",\"getIndexStartName\",\"getIndexEndName\",\"validateLimit_\",\"hasLimit\",\"hasAnchoredLimit\",\"validateNoPreviousOrderByCall_\",\"on\",\"callback\",\"cancelCallbackOrContext\",\"context\",\"ret\",\"getCancelAndContextArgs_\",\"onValueEvent\",\"callbacks\",\"onChildEvent\",\"cancelCallback\",\"container\",\"addEventCallbackForQuery\",\"off\",\"validateContextObject\",\"valueCallback\",\"removeEventCallbackForQuery\",\"once\",\"userCallback\",\"failureCallbackOrContext\",\"firstCall\",\"onceCallback\",\"resolve\",\"err\",\"reject\",\"limitToFirst\",\"limit\",\"limitToLast\",\"orderByChild\",\"parsedPath\",\"newParams\",\"orderBy\",\"orderByKey\",\"orderByPriority\",\"orderByValue\",\"startAt\",\"endAt\",\"equalTo\",\"queryObject\",\"getQueryObject\",\"queryIdentifier\",\"isEqual\",\"sameRepo\",\"samePath\",\"sameQueryIdentifier\",\"cancelOrContext\",\"SparseSnapshotTree\",\"children\",\"Map\",\"find\",\"size\",\"childKey\",\"has\",\"remember\",\"clear\",\"forget\",\"self_1\",\"tree\",\"forEachTree\",\"prefixPath\",\"func\",\"resolveDeferredValue\",\"serverValues\",\"resolveDeferredValueSnapshot\",\"rawPri\",\"leafNode\",\"emptyChildrenSingleton\",\"__referenceConstructor$1\",\"OperationSource\",\"fromUser\",\"fromServer\",\"queryId\",\"tagged\",\"User\",\"Server\",\"forServerTaggedQuery\",\"AckUserWrite\",\"affectedTree\",\"revert\",\"ACK_USER_WRITE\",\"source\",\"operationForChild\",\"subtree\",\"Empty\",\"ImmutableTree\",\"fromObject\",\"childSnap\",\"findRootMostMatchingPathAndValue\",\"predicate\",\"childExistingPathAndValue\",\"findRootMostValueAndPath\",\"toSet\",\"newChild\",\"setTree\",\"newTree\",\"fold\",\"fold_\",\"pathSoFar\",\"accum\",\"findOnPath\",\"findOnPath_\",\"pathToFollow\",\"nextChild\",\"foreachOnPath\",\"foreachOnPath_\",\"currentRelativePath\",\"foreach\",\"foreach_\",\"foreachChild\",\"ListenComplete\",\"LISTEN_COMPLETE\",\"Overwrite\",\"OVERWRITE\",\"Merge\",\"MERGE\",\"CacheNode\",\"fullyInitialized_\",\"filtered_\",\"isFullyInitialized\",\"isFiltered\",\"isCompleteForPath\",\"isCompleteForChild\",\"getNode\",\"ViewCache\",\"eventCache_\",\"serverCache_\",\"updateEventSnap\",\"eventSnap\",\"complete\",\"filtered\",\"updateServerSnap\",\"serverSnap\",\"getEventCache\",\"getCompleteEventSnap\",\"getServerCache\",\"getCompleteServerSnap\",\"Change\",\"oldSnap\",\"valueChange\",\"VALUE\",\"childAddedChange\",\"CHILD_ADDED\",\"childRemovedChange\",\"CHILD_REMOVED\",\"childChangedChange\",\"newSnapshot\",\"oldSnapshot\",\"CHILD_CHANGED\",\"childMovedChange\",\"CHILD_MOVED\",\"IndexedFilter\",\"affectedPath\",\"optChangeAccumulator\",\"oldChild\",\"trackChildChange\",\"updateFullNode\",\"newSnap\",\"filtersNodes\",\"getIndexedFilter\",\"ChildChangeAccumulator\",\"changeMap\",\"oldChange\",\"oldType\",\"getChanges\",\"from\",\"values\",\"NO_COMPLETE_CHILD_SOURCE\",\"NoCompleteChildSource_\",\"getCompleteChild\",\"getChildAfterChild\",\"WriteTreeCompleteChildSource\",\"writes_\",\"viewCache_\",\"optCompleteServerCache_\",\"serverNode\",\"calcCompleteChild\",\"completeServerData\",\"nodes\",\"calcIndexedSlice\",\"ProcessorResult\",\"viewCache\",\"changes\",\"ViewProcessor\",\"filter_\",\"assertIndexed\",\"applyOperation\",\"oldViewCache\",\"operation\",\"writesCache\",\"completeCache\",\"newViewCache\",\"filterServerNode\",\"accumulator\",\"overwrite\",\"applyUserOverwrite_\",\"applyServerOverwrite_\",\"merge\",\"applyUserMerge_\",\"applyServerMerge_\",\"ackUserWrite\",\"revertUserWrite_\",\"ackUserWrite_\",\"listenComplete_\",\"maybeAddValueEvent_\",\"isLeafOrEmpty\",\"oldCompleteSnap\",\"generateEventCacheAfterServerEvent_\",\"changePath\",\"oldEventSnap\",\"shadowingWrite\",\"newEventCache\",\"serverCache\",\"completeChildren\",\"completeEventChildren\",\"calcCompleteEventChildren\",\"completeNode\",\"calcCompleteEventCache\",\"oldEventNode\",\"updatedPriority\",\"calcEventCacheAfterServerOverwrite\",\"childChangePath\",\"newEventChild\",\"eventChildUpdate\",\"changedSnap\",\"newServerCache\",\"oldServerSnap\",\"serverFilter\",\"newServerNode\",\"newEventSnap\",\"cacheHasChild_\",\"changedChildren\",\"curViewCache\",\"writePath\",\"applyMerge_\",\"viewMergeTree\",\"serverChild\",\"childMergeTree\",\"isUnknownDeepMerge\",\"ackPath\",\"changedChildren_1\",\"changedChildren_2\",\"mergePath\",\"serverCachePath\",\"oldServerNode\",\"completeServerCache\",\"oldEventCache\",\"serverChildren\",\"EventGenerator\",\"query_\",\"generateEventsForChanges\",\"eventCache\",\"eventRegistrations\",\"events\",\"moves\",\"generateEventsForType_\",\"registrations\",\"filteredChanges\",\"filter\",\"compareChanges_\",\"materializedChange\",\"materializeSingleChange_\",\"registration\",\"aWrapped\",\"bWrapped\",\"View\",\"initialViewCache\",\"eventRegistrations_\",\"indexFilter\",\"getNodeFilter\",\"processor_\",\"initialServerCache\",\"initialEventCache\",\"eventGenerator_\",\"getQuery\",\"getCompleteServerCache\",\"cache\",\"loadsAllData\",\"addEventRegistration\",\"removeEventRegistration\",\"cancelError\",\"cancelEvents\",\"path_1\",\"maybeEvent\",\"remaining\",\"existing\",\"concat\",\"generateEventsForChanges_\",\"getInitialEvents\",\"initialChanges\",\"SyncPoint\",\"views\",\"optCompleteServerCache\",\"view\",\"serverCacheComplete\",\"eventCacheComplete\",\"e_2\",\"removed\",\"hadCompleteView\",\"hasCompleteView\",\"entries\",\"_d\",\"__read\",\"viewQueryId\",\"e_2_1\",\"getQueryViews\",\"e_3\",\"e_3_1\",\"e_4\",\"e_4_1\",\"viewForQuery\",\"getCompleteView\",\"viewExistsForQuery\",\"e_5\",\"e_5_1\",\"CompoundWrite\",\"writeTree_\",\"addWrite\",\"rootmost\",\"rootMostPath\",\"addWrites\",\"updates\",\"newWrite\",\"removeWrite\",\"hasCompleteWrite\",\"getCompleteNode\",\"getCompleteChildren\",\"childCompoundWrite\",\"shadowingNode\",\"applySubtreeWrite\",\"writeTree\",\"priorityWrite_1\",\"WriteTree\",\"visibleWrites_\",\"allWrites_\",\"lastWriteId_\",\"childWrites\",\"WriteTreeRef\",\"addOverwrite\",\"writeId\",\"visible\",\"addMerge\",\"getWrite\",\"record\",\"findIndex\",\"writeToRemove\",\"splice\",\"removedWriteWasVisible\",\"removedWriteOverlapsWithOtherWrites\",\"currentWrite\",\"recordContainsPath_\",\"resetTree_\",\"getCompleteWriteData\",\"treePath\",\"writeIdsToExclude\",\"includeHiddenWrites\",\"mergeAtPath\",\"layerTree_\",\"write\",\"layeredCache\",\"subMerge\",\"completeServerChildren\",\"topLevelSet\",\"merge_1\",\"existingEventSnap\",\"existingServerSnap\",\"childMerge\",\"toIterate\",\"writeRecord\",\"DefaultFilter_\",\"writes\",\"treeRoot\",\"compoundWrite\",\"deepNode\",\"treePath_\",\"existingServerCache\",\"SyncTree\",\"listenProvider_\",\"syncPointTree_\",\"pendingWriteTree_\",\"tagToQueryMap\",\"queryToTagMap\",\"applyUserOverwrite\",\"newData\",\"applyOperationToSyncPoints_\",\"applyUserMerge\",\"changeTree\",\"affectedTree_1\",\"applyServerOverwrite\",\"applyServerMerge\",\"applyListenComplete\",\"applyTaggedQueryOverwrite\",\"tag\",\"queryKey\",\"queryKeyForTag_\",\"r\",\"parseQueryKey_\",\"queryPath\",\"op\",\"applyTaggedOperation_\",\"applyTaggedQueryMerge\",\"applyTaggedListenComplete\",\"foundAncestorDefaultView\",\"pathToSyncPoint\",\"sp\",\"syncPoint\",\"childSyncPoint\",\"viewAlreadyExists\",\"makeQueryKey_\",\"getNextQueryTag_\",\"setupListener_\",\"maybeSyncPoint\",\"removedAndEvents\",\"removingDefault\",\"covered\",\"parentSyncPoint\",\"newViews\",\"collectDistinctViewsForSubTree_\",\"newQuery\",\"listener\",\"createListenerForView_\",\"startListening\",\"queryForListening_\",\"tagForQuery_\",\"hashFn\",\"stopListening\",\"queryToRemove\",\"tagToRemove\",\"removeTags_\",\"maybeChildSyncPoint\",\"childMap\",\"views_1\",\"_key\",\"childViews\",\"queries\",\"removedQuery\",\"removedQueryKey\",\"removedQueryTag\",\"isDefault\",\"queriesToStop\",\"queries_1\",\"childQueries\",\"queryToStop\",\"status\",\"code\",\"reason\",\"toUpperCase\",\"errorForServerCode\",\"splitIndex\",\"nextQueryTag_\",\"applyOperationHelper_\",\"syncPointTree\",\"applyOperationDescendantsHelper_\",\"childOperation\",\"childServerCache\",\"childWritesCache\",\"SnapshotHolder\",\"rootNode_\",\"updateSnapshot\",\"newSnapshotNode\",\"AuthTokenProvider\",\"app_\",\"authProvider_\",\"auth_\",\"getImmediate\",\"then\",\"auth\",\"getToken\",\"forceRefresh\",\"Promise\",\"addTokenChangeListener\",\"addAuthTokenListener\",\"removeTokenChangeListener\",\"removeAuthTokenListener\",\"notifyForInvalidToken\",\"errorMessage\",\"options\",\"StatsCollection\",\"counters_\",\"incrementCounter\",\"amount\",\"deepCopy\",\"StatsManager\",\"getCollection\",\"hashString\",\"collections_\",\"getOrCreateReporter\",\"creatorFunction\",\"reporters_\",\"StatsListener\",\"collection_\",\"last_\",\"newStats\",\"delta\",\"stat\",\"StatsReporter\",\"collection\",\"server_\",\"statsToReport_\",\"statsListener_\",\"reportStats_\",\"includeStat\",\"stats\",\"reportedStats\",\"haveStatsToReport\",\"reportStats\",\"EventQueue\",\"eventLists_\",\"recursionDepth_\",\"queueEvents\",\"eventDataList\",\"currList\",\"eventPath\",\"EventList\",\"add\",\"raiseEventsAtPath\",\"raiseQueuedEventsMatchingPredicate_\",\"raiseEventsForChangedPath\",\"changedPath\",\"sentAll\",\"eventList\",\"raise\",\"events_\",\"eventFn\",\"EventEmitter\",\"allowedEvents_\",\"listeners_\",\"trigger\",\"listeners\",\"validateEventType_\",\"getInitialEvent\",\"et\",\"VisibilityMonitor\",\"hidden\",\"visibilityChange\",\"document\",\"addEventListener\",\"visible_\",\"getInstance\",\"OnlineMonitor\",\"online_\",\"isMobileCordova\",\"currentlyOnline\",\"PacketReceiver\",\"onMessage_\",\"pendingResponses\",\"currentResponseNum\",\"closeAfterResponse\",\"onClose\",\"closeAfter\",\"responseNum\",\"handleResponse\",\"requestNum\",\"_loop_1\",\"toProcess\",\"this_1\",\"_loop_2\",\"BrowserPollConnection\",\"connId\",\"transportSessionId\",\"lastSessionId\",\"bytesSent\",\"bytesReceived\",\"everConnected_\",\"log_\",\"stats_\",\"urlFn\",\"open\",\"onMessage\",\"onDisconnect\",\"curSegmentNum\",\"onDisconnect_\",\"myPacketOrderer\",\"isClosed_\",\"connectTimeoutTimer_\",\"onClosed_\",\"isNodeSdk\",\"readyState\",\"called_1\",\"wrappedFn_1\",\"body\",\"attachEvent\",\"executeWhenDOMReady\",\"scriptTagHolder\",\"FirebaseIFrameScriptHolder\",\"args\",\"command\",\"arg1\",\"arg2\",\"incrementIncomingBytes_\",\"clearTimeout\",\"password\",\"sendNewPolls\",\"pN\",\"urlParams\",\"start\",\"uniqueCallbackIdentifier\",\"href\",\"connectURL\",\"addTag\",\"startLongPoll\",\"addDisconnectPingFrame\",\"forceAllow\",\"forceAllow_\",\"forceDisallow\",\"forceDisallow_\",\"isAvailable\",\"createElement\",\"Windows\",\"UI\",\"markConnectionHealthy\",\"shutdown_\",\"close\",\"myDisconnFrame\",\"removeChild\",\"send\",\"dataStr\",\"base64data\",\"base64Encode\",\"MAX_URL_DATA_SIZE\",\"enqueueSegment\",\"pw\",\"dframe\",\"src\",\"style\",\"display\",\"appendChild\",\"commandCB\",\"onMessageCB\",\"outstandingRequests\",\"Set\",\"pendingSegs\",\"currentSerial\",\"myIFrame\",\"createIFrame_\",\"script\",\"iframeContents\",\"doc\",\"iframe\",\"contentWindow\",\"contentDocument\",\"alive\",\"innerHTML\",\"myID\",\"myPW\",\"newRequest_\",\"theURL\",\"curDataString\",\"d\",\"theSeg\",\"shift\",\"seg\",\"ts\",\"addLongPollTag_\",\"segnum\",\"totalsegs\",\"url\",\"serial\",\"doNewRequest\",\"keepaliveTimeout\",\"loadCB\",\"doNodeLongPoll\",\"newScript_1\",\"async\",\"onload\",\"onreadystatechange\",\"rstate\",\"parentNode\",\"onerror\",\"SDK_VERSION\",\"WebSocketImpl\",\"MozWebSocket\",\"WebSocket\",\"WebSocketConnection\",\"keepaliveTimer\",\"frames\",\"totalFrames\",\"connectionURL_\",\"device\",\"CONSTANTS\",\"NODE_ADMIN\",\"headers\",\"User-Agent\",\"platform\",\"env\",\"proxy\",\"origin\",\"mySock\",\"onopen\",\"onclose\",\"onmessage\",\"m\",\"handleIncomingFrame\",\"isOldAndroid\",\"navigator\",\"userAgent\",\"oldAndroidMatch\",\"match\",\"parseFloat\",\"previouslyFailed\",\"appendFrame_\",\"fullMess\",\"jsonMess\",\"handleNewFrameCount_\",\"frameCount\",\"extractFrameCount_\",\"isNaN\",\"mess\",\"resetKeepAlive\",\"remainingData\",\"sendString_\",\"clearInterval\",\"setInterval\",\"responsesRequiredToBeHealthy\",\"healthyTimeout\",\"TransportManager\",\"initTransports_\",\"isWebSocketsAvailable\",\"isSkipPollConnection\",\"transports_\",\"transports\",\"ALL_TRANSPORTS\",\"transport\",\"initialTransport\",\"upgradeTransport\",\"Connection\",\"repoInfo_\",\"onReady_\",\"onKill_\",\"connectionCount\",\"pendingDataMessages\",\"state_\",\"transportManager_\",\"start_\",\"conn\",\"conn_\",\"nextTransportId_\",\"primaryResponsesRequired_\",\"onMessageReceived\",\"connReceiver_\",\"onConnectionLost\",\"disconnReceiver_\",\"tx_\",\"rx_\",\"secondaryConn_\",\"isHealthy_\",\"healthyTimeoutMS\",\"healthyTimeout_\",\"everConnected\",\"onConnectionLost_\",\"onSecondaryConnectionLost_\",\"onPrimaryMessageReceived_\",\"onSecondaryMessageReceived_\",\"sendRequest\",\"dataMsg\",\"msg\",\"t\",\"sendData_\",\"tryCleanupConnection\",\"onSecondaryControl_\",\"controlData\",\"cmd\",\"upgradeIfSecondaryHealthy_\",\"secondaryResponsesRequired_\",\"parsedData\",\"layer\",\"proceedWithUpgrade_\",\"onControl_\",\"onDataMessage_\",\"onPrimaryResponse_\",\"payload\",\"onHandshake_\",\"onConnectionShutdown_\",\"onReset_\",\"sendPingOnPrimaryIfNecessary_\",\"handshake\",\"timestamp\",\"version\",\"h\",\"sessionId\",\"onConnectionEstablished_\",\"tryStartUpgrade_\",\"startUpgrade_\",\"closeConnections_\",\"ServerActions\",\"put\",\"refreshAuthToken\",\"token\",\"onDisconnectPut\",\"onDisconnectMerge\",\"PersistentConnection\",\"onDataUpdate_\",\"onConnectStatus_\",\"onServerInfoUpdate_\",\"authTokenProvider_\",\"authOverride_\",\"nextPersistentConnectionId_\",\"interruptReasons_\",\"listens\",\"outstandingPuts_\",\"outstandingPutCount_\",\"onDisconnectRequestQueue_\",\"connected_\",\"reconnectDelay_\",\"maxReconnectDelay_\",\"securityDebugCallback_\",\"establishConnectionTimer_\",\"requestCBHash_\",\"requestNumber_\",\"realtime_\",\"authToken_\",\"forceTokenRefresh_\",\"invalidAuthTokenCount_\",\"firstConnection_\",\"lastConnectionAttemptTime_\",\"lastConnectionEstablishedTime_\",\"scheduleConnect_\",\"onVisible_\",\"onOnline_\",\"onResponse\",\"curReqNum\",\"listen\",\"currentHashFn\",\"listenSpec\",\"sendListen_\",\"req\",\"p\",\"warnOnListenWarnings_\",\"removeListen_\",\"warnings\",\"indexSpec\",\"indexPath\",\"tryAuth\",\"reduceReconnectDelayIfAdminCredential_\",\"credential\",\"isAdmin\",\"token_1\",\"authMethod\",\"isValidFormat\",\"requestData\",\"cred\",\"res\",\"onAuthRevoked_\",\"unlisten\",\"sendUnlisten_\",\"queryObj\",\"sendOnDisconnect_\",\"request\",\"response\",\"putInternal\",\"sendPut_\",\"queued\",\"errorReason\",\"reqNum\",\"onDataPush_\",\"onListenRevoked_\",\"onSecurityDebugPacket_\",\"Date\",\"getTime\",\"handleTimestamp_\",\"sendConnectStats_\",\"restoreState_\",\"establishConnection_\",\"online\",\"onRealtimeDisconnect_\",\"cancelSentTransactions_\",\"shouldReconnect_\",\"timeSinceLastConnectAttempt\",\"reconnectDelay\",\"onDataMessage_1\",\"onReady_1\",\"onDisconnect_1\",\"connId_1\",\"nextConnectionId_\",\"lastSessionId_1\",\"canceled_1\",\"connection_1\",\"closeFn_1\",\"accessToken\",\"interrupt\",\"resume\",\"serverTimeOffset\",\"q\",\"normalizedPathString\",\"statusCode\",\"explanation\",\"console\",\"_e\",\"_f\",\"clientName\",\"NODE_CLIENT\",\"isReactNative\",\"ReadonlyRestClient\",\"listens_\",\"getListenId_\",\"listenId\",\"thisListen\",\"queryStringParameters\",\"toRestQueryStringParameters\",\"restRequest_\",\"authTokenData\",\"authToken\",\"querystring\",\"xhr\",\"XMLHttpRequest\",\"responseText\",\"Repo\",\"forceRestClient\",\"app\",\"authProvider\",\"dataUpdateCount\",\"eventQueue_\",\"nextWriteId_\",\"interceptServerDataCallback_\",\"persistentConnection_\",\"authTokenProvider\",\"search\",\"authOverride\",\"statsReporter_\",\"transactionsInit_\",\"infoData_\",\"infoSyncTree_\",\"infoEvents\",\"updateInfo_\",\"serverSyncTree_\",\"serverTime\",\"offset\",\"generateServerValues\",\"isMerge\",\"taggedChildren\",\"raw\",\"taggedSnap\",\"rerunTransactions_\",\"interceptServerData_\",\"connectStatus\",\"runOnDisconnectEvents_\",\"getNextWriteId_\",\"newVal\",\"newNodeUnresolved\",\"success\",\"clearEvents\",\"callOnCompleteCallback\",\"abortTransactions_\",\"childrenToMerge\",\"empty\",\"changedKey\",\"changedValue\",\"writeId_1\",\"resolvedOnDisconnectTree\",\"resolvedTree\",\"resolveDeferredValueTree\",\"showDelta\",\"longestName\",\"reduce\",\"previousValue\",\"currentValue\",\"paddedStat\",\"statsIncrementCounter\",\"metric\",\"__database\",\"Database\",\"RangedFilter\",\"indexedFilter_\",\"startPost_\",\"getStartPost_\",\"endPost_\",\"getEndPost_\",\"getStartPost\",\"getEndPost\",\"self\",\"startName\",\"endName\",\"LimitedFilter\",\"rangedFilter_\",\"limit_\",\"getLimit\",\"reverse_\",\"isViewFromLeft\",\"fullLimitUpdateChild_\",\"indexCompare_1\",\"foundStartPost\",\"changeAccumulator\",\"indexCmp_1\",\"newChildNamedNode\",\"windowBoundary\",\"inRange\",\"oldChildSnap\",\"compareNext\",\"QueryParams\",\"limitSet_\",\"startSet_\",\"startNameSet_\",\"endSet_\",\"endNameSet_\",\"viewFrom_\",\"indexStartValue_\",\"indexStartName_\",\"indexEndValue_\",\"indexEndName_\",\"WIRE_PROTOCOL_CONSTANTS_\",\"VIEW_FROM_LEFT\",\"copy_\",\"newLimit\",\"VIEW_FROM_RIGHT\",\"WIRE_PROTOCOL_CONSTANTS\",\"INDEX_START_VALUE\",\"INDEX_START_NAME\",\"INDEX_END_VALUE\",\"INDEX_END_NAME\",\"LIMIT\",\"viewFrom\",\"VIEW_FROM\",\"INDEX\",\"REST_CONSTANTS\",\"REST_QUERY_CONSTANTS_\",\"qs\",\"ORDER_BY\",\"START_AT\",\"END_AT\",\"LIMIT_TO_FIRST\",\"LIMIT_TO_LAST\",\"DEFAULT\",\"Reference\",\"parentPath\",\"getRoot\",\"databaseProp\",\"database\",\"transaction\",\"transactionUpdate\",\"applyLocally\",\"promiseComplete\",\"startTransaction\",\"setPriority\",\"thennablePushRef\",\"pushRef\",\"TransactionStatus\",\"TreeNode\",\"childCount\",\"Tree\",\"name_\",\"parent_\",\"subTree\",\"pathObj\",\"setValue\",\"updateParents_\",\"forEachDescendant\",\"includeSelf\",\"childrenFirst\",\"forEachAncestor\",\"forEachImmediateDescendantWithValue\",\"updateChild_\",\"childEmpty\",\"childExists\",\"MAX_TRANSACTION_RETRIES_\",\"transactionQueueTree_\",\"watchRef\",\"order\",\"retryCount\",\"unwatcher\",\"abortReason\",\"currentWriteId\",\"currentInputSnapshot\",\"currentOutputSnapshotRaw\",\"currentOutputSnapshotResolved\",\"currentState\",\"getLatestState_\",\"RUN\",\"queueNode\",\"nodeQueue\",\"priorityForNode\",\"sendReadyTransactions_\",\"excludeSets\",\"pruneCompletedTransactionsBelowNode_\",\"queue\",\"buildTransactionQueue_\",\"sendTransactionQueue_\",\"setsToIgnore\",\"txn\",\"latestState\",\"snapToSend\",\"latestHash\",\"SENT\",\"dataToSend\",\"pathToSend\",\"COMPLETED\",\"SENT_NEEDS_ABORT\",\"NEEDS_ABORT\",\"rootMostTransactionNode\",\"getAncestorTransactionNode_\",\"rerunTransactionQueue_\",\"abortTransaction\",\"currentNode\",\"newDataNode\",\"oldWriteId\",\"newNodeResolved\",\"lastInput\",\"transactionNode\",\"transactionQueue\",\"aggregateTransactionQueuesForNode_\",\"to\",\"abortTransactionsOnNode_\",\"lastSent\",\"_staticInstance\",\"RepoManager\",\"repos_\",\"useRestClient_\",\"appName\",\"dbUrl\",\"databaseFromApp\",\"dbEmulatorHost\",\"createRepo\",\"deleteRepo\",\"appRepos\",\"INTERNAL\",\"DatabaseInternals\",\"checkDeleted_\",\"refFromURL\",\"apiName\",\"parsedURL\",\"goOffline\",\"goOnline\",\"ServerValue\",\"TIMESTAMP\",\".sv\",\"__awaiter\",\"__generator\",\"freeze\",\"__proto__\",\"forceLongPolling\",\"forceWebSockets\",\"setSecurityDebugCallback\",\"interceptServerData\",\"DataConnection\",\"simpleListen\",\"echo\",\"onEcho\",\"RealTimeConnection\",\"ConnectionTarget\",\"TEST_ACCESS\",\"hijackHash\",\"newHash\",\"oldPut\",\"_forceRestClient\",\"registerDatabase\",\"instance\",\"setSDKVersion\",\"registerComponent\",\"Component\",\"getProvider\",\"setServiceProps\",\"setMultipleInstances\",\"registerVersion\"],\"mappings\":\"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\"}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{NSPt:function(t,e,n){\"use strict\";(function(r){n(\"DrhF\"),n(\"U6Bt\"),n(\"Ll4R\"),n(\"ToIb\"),n(\"6kNP\"),n(\"zTTH\"),n(\"OeI1\"),n(\"cFtU\"),n(\"v9g0\"),n(\"YbXK\"),n(\"xJgp\"),n(\"rzGZ\"),n(\"Dq+y\"),n(\"Ggvi\"),n(\"JHok\"),n(\"+ar0\"),n(\"AqHK\"),n(\"pJf4\"),n(\"nMRu\"),n(\"sC2a\"),n(\"HQhv\"),n(\"sPse\"),n(\"klQ5\"),n(\"zGcK\"),n(\"YBKJ\"),n(\"sc67\"),n(\"n7j8\"),n(\"MIFh\"),n(\"q8oJ\"),n(\"C9fy\"),n(\"8npG\"),n(\"R48M\"),Object.defineProperty(e,\"__esModule\",{value:!0});var i,o,s=(i=n(\"wj3C\"))&&\"object\"==typeof i&&\"default\"in i?i.default:i,a=n(\"mrSG\"),h=n(\"zVF4\"),l=n(\"q/0M\"),u=n(\"S+S0\"),c=function(){function t(t){this.domStorage_=t,this.prefix_=\"firebase:\"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),h.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:h.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),p=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return h.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if(\"undefined\"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem(\"firebase:sentinel\",\"cache\"),e.removeItem(\"firebase:sentinel\"),new c(e)}}catch(n){}return new p},f=d(\"localStorage\"),_=d(\"sessionStorage\"),y=new l.Logger(\"@firebase/database\"),v=(o=1,function(){return o++}),g=function(t){var e=h.stringToByteArray(t),n=new h.Sha1;n.update(e);var r=n.digest();return h.base64.encodeByteArray(r)},m=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=\"\",i=0;i<e.length;i++){var o=e[i];Array.isArray(o)||o&&\"object\"==typeof o&&\"number\"==typeof o.length?r+=t.apply(null,o):r+=\"object\"==typeof o?h.stringify(o):o,r+=\" \"}return r},C=null,E=!0,w=function(t,e){h.assert(!e||!0===t||!1===t,\"Can't turn on custom loggers persistently.\"),!0===t?(y.logLevel=l.LogLevel.VERBOSE,C=y.log.bind(y),e&&_.set(\"logging_enabled\",!0)):\"function\"==typeof t?C=t:(C=null,_.remove(\"logging_enabled\"))},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===E&&(E=!1,null===C&&!0===_.get(\"logging_enabled\")&&w(!0)),C){var n=m.apply(null,t);C(n)}},b=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];T.apply(void 0,a.__spread([t],e))}},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"FIREBASE INTERNAL ERROR: \"+m.apply(void 0,a.__spread(t));y.error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"FIREBASE FATAL ERROR: \"+m.apply(void 0,a.__spread(t));throw y.error(n),new Error(n)},N=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"FIREBASE WARNING: \"+m.apply(void 0,a.__spread(t));y.warn(n)},P=function(t){return\"number\"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},R=\"[MIN_NAME]\",D=\"[MAX_NAME]\",x=function(t,e){if(t===e)return 0;if(t===R||e===D)return-1;if(e===R||t===D)return 1;var n=q(t),r=q(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},k=function(t,e){return t===e?0:t<e?-1:1},O=function(t,e){if(e&&t in e)return e[t];throw new Error(\"Missing required key (\"+t+\") in object: \"+h.stringify(e))},F=function t(e){if(\"object\"!=typeof e||null===e)return h.stringify(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i=\"{\",o=0;o<n.length;o++)0!==o&&(i+=\",\"),i+=h.stringify(n[o]),i+=\":\",i+=t(e[n[o]]);return i+=\"}\"},A=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function L(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var M=function(t){h.assert(!P(t),\"Invalid JSON number\");var e,n,r,i,o;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var a=s.join(\"\"),l=\"\";for(o=0;o<64;o+=8){var u=parseInt(a.substr(o,8),2).toString(16);1===u.length&&(u=\"0\"+u),l+=u}return l.toLowerCase()},W=new RegExp(\"^-?(0*)\\\\d{1,10}$\"),q=function(t){if(W.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Q=function(t){try{t()}catch(e){setTimeout((function(){var t=e.stack||\"\";throw N(\"Exception was thrown by user callback.\",t),e}),Math.floor(0))}},U=function(t,e){var n=setTimeout(t,e);return\"object\"==typeof n&&n.unref&&n.unref(),n},V=function(){function t(t,e){if(void 0===e){this.pieces_=t.split(\"/\");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,\"Empty\",{get:function(){return new t(\"\")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t=\"\",e=this.pieceNum_;e<this.pieces_.length;e++)\"\"!==this.pieces_[e]&&(t+=\"/\"+this.pieces_[e]);return t||\"/\"},t.prototype.toUrlEncodedString=function(){for(var t=\"\",e=this.pieceNum_;e<this.pieces_.length;e++)\"\"!==this.pieces_[e]&&(t+=\"/\"+encodeURIComponent(String(this.pieces_[e])));return t||\"/\"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split(\"/\");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error(\"INTERNAL ERROR: innerPath (\"+n+\") is not within outerPath (\"+e+\")\")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=x(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),H=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=h.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,\"MAX_PATH_DEPTH\",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"MAX_PATH_LENGTH_BYTES\",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=h.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=h.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+\"has a key path longer than \"+t.MAX_PATH_LENGTH_BYTES+\" bytes (\"+this.byteLength_+\").\");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+\"path specified exceeds the maximum depth that can be written (\"+t.MAX_PATH_DEPTH+\") or object contains a cycle \"+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?\"\":\"in property '\"+this.parts_.join(\".\")+\"'\"},t}(),j=function(){function t(t,e,n,r,i,o){void 0===i&&(i=\"\"),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(\".\")+1),this.internalHost=f.get(\"host:\"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return\"s-\"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return\"firebaseio-demo.com\"===this.domain},t.prototype.isCustomHost=function(){return\"firebaseio.com\"!==this.domain&&\"firebaseio-demo.com\"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set(\"host:\"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(h.assert(\"string\"==typeof t,\"typeof type must == string\"),h.assert(\"object\"==typeof e,\"typeof params must == object\"),\"websocket\"===t)n=(this.secure?\"wss://\":\"ws://\")+this.internalHost+\"/.ws?\";else{if(\"long_polling\"!==t)throw new Error(\"Unknown connection type: \"+t);n=(this.secure?\"https://\":\"http://\")+this.internalHost+\"/.lp?\"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return L(e,(function(t,e){r.push(t+\"=\"+e)})),n+r.join(\"&\")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+=\"<\"+this.persistenceKey+\">\"),t},t.prototype.toURLString=function(){return(this.secure?\"https://\":\"http://\")+this.host},t}();var B,K,Y,z,G,X=function(t){var e=$(t),n=e.namespace;\"firebase\"===e.domain&&I(e.host+\" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead\"),n&&\"undefined\"!==n||\"localhost\"===e.domain||I(\"Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com\"),e.secure||\"undefined\"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf(\"https:\")&&N(\"Insecure Firebase access from a secure page. Please use https in calls to new Firebase().\");var r=\"ws\"===e.scheme||\"wss\"===e.scheme;return{repoInfo:new j(e.host,e.secure,n,r,\"\",n!==e.subdomain),path:new V(e.pathString)}},$=function(t){var e=\"\",n=\"\",r=\"\",i=\"\",o=\"\",s=!0,h=\"https\",l=443;if(\"string\"==typeof t){var u=t.indexOf(\"//\");u>=0&&(h=t.substring(0,u-1),t=t.substring(u+2));var c=t.indexOf(\"/\");-1===c&&(c=t.length);var p=t.indexOf(\"?\");-1===p&&(p=t.length),e=t.substring(0,Math.min(c,p)),c<p&&(i=function(t){for(var e=\"\",n=t.split(\"/\"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\\+/g,\" \"))}catch(o){}e+=\"/\"+i}return e}(t.substring(c,p)));var d=function(t){var e,n,r={};\"?\"===t.charAt(0)&&(t=t.substring(1));try{for(var i=a.__values(t.split(\"&\")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var h=s.split(\"=\");2===h.length?r[decodeURIComponent(h[0])]=decodeURIComponent(h[1]):N(\"Invalid query segment '\"+s+\"' in query '\"+t+\"'\")}}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,p)));(u=e.indexOf(\":\"))>=0?(s=\"https\"===h||\"wss\"===h,l=parseInt(e.substring(u+1),10)):u=t.length;var f=e.split(\".\");3===f.length?(n=f[1],o=r=f[0].toLowerCase()):2===f.length?n=f[0]:\"localhost\"===f[0].slice(0,u).toLowerCase()&&(n=\"localhost\"),\"ns\"in d&&(o=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:h,pathString:i,namespace:o}},J=/[\\[\\].#$\\/\\u0000-\\u001F\\u007F]/,Z=/[\\[\\].#$\\u0000-\\u001F\\u007F]/,tt=function(t){return\"string\"==typeof t&&0!==t.length&&!J.test(t)},et=function(t){return\"string\"==typeof t&&0!==t.length&&!Z.test(t)},nt=function(t){return null===t||\"string\"==typeof t||\"number\"==typeof t&&!P(t)||t&&\"object\"==typeof t&&h.contains(t,\".sv\")},rt=function(t,e,n,r,i){i&&void 0===n||it(h.errorPrefix(t,e,i),n,r)},it=function t(e,n,r){var i=r instanceof V?new H(r,e):r;if(void 0===n)throw new Error(e+\"contains undefined \"+i.toErrorString());if(\"function\"==typeof n)throw new Error(e+\"contains a function \"+i.toErrorString()+\" with contents = \"+n.toString());if(P(n))throw new Error(e+\"contains \"+n.toString()+\" \"+i.toErrorString());if(\"string\"==typeof n&&n.length>10485760/3&&h.stringLength(n)>10485760)throw new Error(e+\"contains a string greater than 10485760 utf8 bytes \"+i.toErrorString()+\" ('\"+n.substring(0,50)+\"...')\");if(n&&\"object\"==typeof n){var o=!1,s=!1;if(L(n,(function(n,r){if(\".value\"===n)o=!0;else if(\".priority\"!==n&&\".sv\"!==n&&(s=!0,!tt(n)))throw new Error(e+\" contains an invalid key (\"+n+\") \"+i.toErrorString()+'.  Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"');i.push(n),t(e,r,i),i.pop()})),o&&s)throw new Error(e+' contains \".value\" child '+i.toErrorString()+\" in addition to actual children.\")}},ot=function(t,e,n,r,i){if(!i||void 0!==n){var o=h.errorPrefix(t,e,i);if(!n||\"object\"!=typeof n||Array.isArray(n))throw new Error(o+\" must be an object containing the children to replace.\");var s=[];L(n,(function(t,e){var n=new V(t);if(it(o,e,r.child(n)),\".priority\"===n.getBack()&&!nt(e))throw new Error(o+\"contains an invalid value for '\"+n.toString()+\"', which must be a valid Firebase priority (a string, finite number, server value, or null).\");s.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(\".priority\"===i[o]&&o===i.length-1);else if(!tt(i[o]))throw new Error(t+\"contains an invalid key (\"+i[o]+\") in path \"+r.toString()+'. Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"');e.sort(V.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+\"contains a path \"+s.toString()+\" that is ancestor of another path \"+r.toString());s=r}}(o,s)}},st=function(t,e,n,r){if(!r||void 0!==n){if(P(n))throw new Error(h.errorPrefix(t,e,r)+\"is \"+n.toString()+\", but must be a valid Firebase priority (a string, finite number, server value, or null).\");if(!nt(n))throw new Error(h.errorPrefix(t,e,r)+\"must be a valid Firebase priority (a string, finite number, server value, or null).\")}},at=function(t,e,n,r){if(!r||void 0!==n)switch(n){case\"value\":case\"child_added\":case\"child_removed\":case\"child_changed\":case\"child_moved\":break;default:throw new Error(h.errorPrefix(t,e,r)+'must be a valid event type = \"value\", \"child_added\", \"child_removed\", \"child_changed\", or \"child_moved\".')}},ht=function(t,e,n,r){if(!(r&&void 0===n||tt(n)))throw new Error(h.errorPrefix(t,e,r)+'was an invalid key = \"'+n+'\".  Firebase keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\").')},lt=function(t,e,n,r){if(!(r&&void 0===n||et(n)))throw new Error(h.errorPrefix(t,e,r)+'was an invalid path = \"'+n+'\". Paths must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\"')},ut=function(t,e,n,r){n&&(n=n.replace(/^\\/*\\.info(\\/|$)/,\"/\")),lt(t,e,n,r)},ct=function(t,e){if(\".info\"===e.getFront())throw new Error(t+\" failed = Can't modify data under /.info/\")},pt=function(t,e,n){var r=n.path.toString();if(\"string\"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!tt(n.repoInfo.namespace)&&\"localhost\"!==n.repoInfo.host.split(\":\")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\\/*\\.info(\\/|$)/,\"/\")),et(t)}(r))throw new Error(h.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\".')},dt=function(t,e,n,r){if((!r||void 0!==n)&&\"boolean\"!=typeof n)throw new Error(h.errorPrefix(t,e,r)+\"must be a boolean.\")},ft=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){h.validateArgCount(\"OnDisconnect.cancel\",0,1,arguments.length),h.validateCallback(\"OnDisconnect.cancel\",1,t,!0);var e=new h.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){h.validateArgCount(\"OnDisconnect.remove\",0,1,arguments.length),ct(\"OnDisconnect.remove\",this.path_),h.validateCallback(\"OnDisconnect.remove\",1,t,!0);var e=new h.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){h.validateArgCount(\"OnDisconnect.set\",1,2,arguments.length),ct(\"OnDisconnect.set\",this.path_),rt(\"OnDisconnect.set\",1,t,this.path_,!1),h.validateCallback(\"OnDisconnect.set\",2,e,!0);var n=new h.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){h.validateArgCount(\"OnDisconnect.setWithPriority\",2,3,arguments.length),ct(\"OnDisconnect.setWithPriority\",this.path_),rt(\"OnDisconnect.setWithPriority\",1,t,this.path_,!1),st(\"OnDisconnect.setWithPriority\",2,e,!1),h.validateCallback(\"OnDisconnect.setWithPriority\",3,n,!0);var r=new h.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(h.validateArgCount(\"OnDisconnect.update\",1,2,arguments.length),ct(\"OnDisconnect.update\",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[\"\"+r]=t[r];t=n,N(\"Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}ot(\"OnDisconnect.update\",1,t,this.path_,!1),h.validateCallback(\"OnDisconnect.update\",2,e,!0);var i=new h.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),_t=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return h.validateArgCount(\"TransactionResult.toJSON\",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),yt=(B=\"-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz\",K=0,Y=[],function(t){var e,n=t===K;K=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=B.charAt(t%64),t=Math.floor(t/64);h.assert(0===t,\"Cannot push at time == 0\");var i=r.join(\"\");if(n){for(e=11;e>=0&&63===Y[e];e--)Y[e]=0;Y[e]++}else for(e=0;e<12;e++)Y[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=B.charAt(Y[e]);return h.assert(20===i.length,\"nextPushId: Length should be 20.\"),i}),vt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),gt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new vt(R,t),r=new vt(R,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return vt.MIN},t}(),mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),Object.defineProperty(e,\"__EMPTY_NODE\",{get:function(){return z},set:function(t){z=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return x(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw h.assertionError(\"KeyIndex.isDefinedOn not expected to be called.\")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return vt.MIN},e.prototype.maxPost=function(){return new vt(D,z)},e.prototype.makePost=function(t,e){return h.assert(\"string\"==typeof t,\"KeyIndex indexValue must always be a string.\"),new vt(t,z)},e.prototype.toString=function(){return\".key\"},e}(gt),Ct=new mt;var Et,wt,Tt,bt=function(t){return\"number\"==typeof t?\"number:\"+M(t):\"string:\"+t},St=function(t){if(t.isLeafNode()){var e=t.val();h.assert(\"string\"==typeof e||\"number\"==typeof e||\"object\"==typeof e&&h.contains(e,\".sv\"),\"Priority must be a string or number.\")}else h.assert(t===G||t.isEmpty(),\"priority of unexpected type.\");h.assert(t===G||t.getPriority().isEmpty(),\"Priority nodes can't have a priority of their own.\")},It=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,h.assert(void 0!==this.value_&&null!==this.value_,\"LeafNode shouldn't be created with null/undefined value.\"),St(this.priorityNode_)}return Object.defineProperty(t,\"__childrenNodeConstructor\",{get:function(){return Et},set:function(t){Et=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return\".priority\"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:\".priority\"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return\".priority\"===e?this.updatePriority(n):n.isEmpty()&&\".priority\"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&\".priority\"!==r?this:(h.assert(\".priority\"!==r||1===e.getLength(),\".priority must be the last token in a path\"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{\".value\":this.getValue(),\".priority\":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t=\"\";this.priorityNode_.isEmpty()||(t+=\"priority:\"+bt(this.priorityNode_.val())+\":\");var e=typeof this.value_;t+=e+\":\",t+=\"number\"===e?M(this.value_):this.value_,this.lazyHash_=g(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(h.assert(e.isLeafNode(),\"Unknown node type\"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return h.assert(i>=0,\"Unknown leaf type: \"+n),h.assert(o>=0,\"Unknown leaf type: \"+r),i===o?\"object\"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=[\"object\",\"boolean\",\"number\",\"string\"],t}();var Nt,Pt,Rt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?x(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return vt.MIN},e.prototype.maxPost=function(){return new vt(D,new It(\"[PRIORITY-POST]\",Tt))},e.prototype.makePost=function(t,e){var n=wt(t);return new vt(e,new It(\"[PRIORITY-POST]\",n))},e.prototype.toString=function(){return\".priority\"},e}(gt)),Dt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),xt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Ot.EMPTY_NODE,this.right=null!=o?o:Ot.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Ot.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Ot.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error(\"Red node has red child(\"+this.key+\",\"+this.value+\")\");if(this.right.isRed_())throw new Error(\"Right child of (\"+this.key+\",\"+this.value+\") is red\");var t=this.left.check_();if(t!==this.right.check_())throw new Error(\"Black depths differ\");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),kt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new xt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Ot=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,xt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error(\"Attempted to find predecessor key for a nonexistent key.  What gives?\")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Dt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Dt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Dt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Dt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new kt,t}(),Ft=Math.log(2),At=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Ft,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join(\"1\"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Lt=function(t,e,n,r){t.sort(e);var i=function(e){for(var r=null,i=null,o=t.length,s=function(e,r){var i=o-e,s=o;o-=e;var h=function e(r,i){var o,s,a=i-r;if(0===a)return null;if(1===a)return o=t[r],s=n?n(o):o,new xt(s,o.node,xt.BLACK,null,null);var h=parseInt(a/2,10)+r,l=e(r,h),u=e(h+1,i);return o=t[h],s=n?n(o):o,new xt(s,o.node,xt.BLACK,l,u)}(i+1,s),l=t[i],u=n?n(l):l;a(new xt(u,l.node,r,null,h))},a=function(t){r?(r.left=t,r=t):(i=t,r=t)},h=0;h<e.count;++h){var l=e.nextBitIsOne(),u=Math.pow(2,e.count-(h+1));l?s(u,xt.BLACK):(s(u,xt.BLACK),s(u,xt.RED))}return i}(new At(t.length));return new Ot(r||e,i)},Mt={},Wt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,\"Default\",{get:function(){return h.assert(Mt&&Rt,\"ChildrenNode.ts has not been loaded\"),Nt=Nt||new t({\".priority\":Mt},{\".priority\":Rt})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=h.safeGet(this.indexes_,t);if(!e)throw new Error(\"No index defined for \"+t);return e instanceof Ot?e:null},t.prototype.hasIndex=function(t){return h.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){h.assert(e!==Ct,\"KeyIndex always exists and isn't meant to be added to the IndexMap.\");for(var r,i=[],o=!1,s=n.getIterator(vt.Wrap),l=s.getNext();l;)o=o||e.isDefinedOn(l.node),i.push(l),l=s.getNext();r=o?Lt(i,e.getCompare()):Mt;var u=e.toString(),c=a.__assign({},this.indexSet_);c[u]=e;var p=a.__assign({},this.indexes_);return p[u]=r,new t(p,c)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(h.map(this.indexes_,(function(t,i){var o=h.safeGet(r.indexSet_,i);if(h.assert(o,\"Missing index implementation for \"+i),t===Mt){if(o.isDefinedOn(e.node)){for(var s=[],a=n.getIterator(vt.Wrap),l=a.getNext();l;)l.name!==e.name&&s.push(l),l=a.getNext();return s.push(e),Lt(s,o.getCompare())}return Mt}var u=n.get(e.name),c=t;return u&&(c=c.remove(new vt(e.name,u))),c.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(h.map(this.indexes_,(function(t){if(t===Mt)return t;var r=n.get(e.name);return r?t.remove(new vt(e.name,r)):t})),this.indexSet_)},t}();function qt(t,e){return x(t.name,e.name)}function Qt(t,e){return x(t,e)}var Ut=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&St(this.priorityNode_),this.children_.isEmpty()&&h.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),\"An empty node cannot have a priority\")}return Object.defineProperty(t,\"EMPTY_NODE\",{get:function(){return Pt||(Pt=new t(new Ot(Qt),null,Wt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Pt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(\".priority\"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Pt:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(h.assert(n,\"We should always be passing snapshot nodes\"),\".priority\"===e)return this.updatePriority(n);var r=new vt(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Pt:this.priorityNode_;return new t(i,s,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;h.assert(\".priority\"!==t.getFront()||1===t.getLength(),\".priority must be the last token in a path\");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Rt,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[\".priority\"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t=\"\";this.getPriority().isEmpty()||(t+=\"priority:\"+bt(this.getPriority().val())+\":\"),this.forEachChild(Rt,(function(e,n){var r=n.hash();\"\"!==r&&(t+=\":\"+e+\":\"+r)})),this.lazyHash_=\"\"===t?\"\":g(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new vt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new vt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new vt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,vt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,vt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Vt?-1:0},t.prototype.withIndex=function(e){if(e===Ct||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Ct||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Rt),r=e.getIterator(Rt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Ct?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\\d*)$/,t}(),Vt=new(function(t){function e(){return t.call(this,new Ot(Qt),Ut.EMPTY_NODE,Wt.Default)||this}return a.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Ut.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Ut));Object.defineProperties(vt,{MIN:{value:new vt(R,Ut.EMPTY_NODE)},MAX:{value:new vt(D,Vt)}}),mt.__EMPTY_NODE=Ut.EMPTY_NODE,It.__childrenNodeConstructor=Ut,G=Vt,function(t){Tt=t}(Vt);function Ht(t,e){if(void 0===e&&(e=null),null===t)return Ut.EMPTY_NODE;if(\"object\"==typeof t&&\".priority\"in t&&(e=t[\".priority\"]),h.assert(null===e||\"string\"==typeof e||\"number\"==typeof e||\"object\"==typeof e&&\".sv\"in e,\"Invalid priority type found: \"+typeof e),\"object\"==typeof t&&\".value\"in t&&null!==t[\".value\"]&&(t=t[\".value\"]),\"object\"!=typeof t||\".sv\"in t)return new It(t,Ht(e));if(t instanceof Array){var n=Ut.EMPTY_NODE;return L(t,(function(e,r){if(h.contains(t,e)&&\".\"!==e.substring(0,1)){var i=Ht(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Ht(e))}var r=[],i=!1;if(L(t,(function(t,e){if(\".\"!==t.substring(0,1)){var n=Ht(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new vt(t,n)))}})),0===r.length)return Ut.EMPTY_NODE;var o=Lt(r,qt,(function(t){return t.name}),Qt);if(i){var s=Lt(r,Rt.getCompare());return new Ut(o,Ht(e),new Wt({\".priority\":s},{\".priority\":Rt}))}return new Ut(o,Ht(e),Wt.Default)}!function(t){wt=t}(Ht);var jt,Bt,Kt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?x(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return vt.MIN},e.prototype.maxPost=function(){return vt.MAX},e.prototype.makePost=function(t,e){var n=Ht(t);return new vt(e,n)},e.prototype.toString=function(){return\".value\"},e}(gt)),Yt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,h.assert(!e.isEmpty()&&\".priority\"!==e.getFront(),\"Can't create PathIndex with empty path or .priority key\"),n}return a.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?x(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Ht(t),r=Ut.EMPTY_NODE.updateChild(this.indexPath_,n);return new vt(e,r)},e.prototype.maxPost=function(){var t=Ut.EMPTY_NODE.updateChild(this.indexPath_,Vt);return new vt(D,t)},e.prototype.toString=function(){return this.indexPath_.slice().join(\"/\")},e}(gt),zt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return h.validateArgCount(\"DataSnapshot.val\",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return h.validateArgCount(\"DataSnapshot.exportVal\",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return h.validateArgCount(\"DataSnapshot.toJSON\",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return h.validateArgCount(\"DataSnapshot.exists\",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){h.validateArgCount(\"DataSnapshot.child\",0,1,arguments.length),e=String(e),lt(\"DataSnapshot.child\",1,e,!1);var n=new V(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Rt)},t.prototype.hasChild=function(t){h.validateArgCount(\"DataSnapshot.hasChild\",1,1,arguments.length),lt(\"DataSnapshot.hasChild\",1,t,!1);var e=new V(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return h.validateArgCount(\"DataSnapshot.getPriority\",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(h.validateArgCount(\"DataSnapshot.forEach\",1,1,arguments.length),h.validateCallback(\"DataSnapshot.forEach\",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Rt))}))},t.prototype.hasChildren=function(){return h.validateArgCount(\"DataSnapshot.hasChildren\",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,\"key\",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return h.validateArgCount(\"DataSnapshot.numChildren\",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return h.validateArgCount(\"DataSnapshot.ref\",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,\"ref\",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Gt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return\"value\"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+\":\"+this.eventType+\":\"+h.stringify(this.snapshot.exportVal())},t}(),Xt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return\"cancel\"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+\":cancel\"},t}(),$t=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return\"value\"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Gt(\"value\",this,new zt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if(\"cancel\"===t.getEventType()){h.assert(this.cancelCallback_,\"Raising a cancel event on a listener with no cancel callback\");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Xt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Jt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e=\"children_added\"===t?\"child_added\":t;return e=\"children_removed\"===e?\"child_removed\":e,h.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Xt(this,t,e):null},t.prototype.createEvent=function(t,e){h.assert(null!=t.childName,\"Child events should have a childName.\");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Gt(t.type,this,new zt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if(\"cancel\"===t.getEventType()){h.assert(this.cancelCallback_,\"Raising a cancel event on a listener with no cancel callback\");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Zt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,\"__referenceConstructor\",{get:function(){return h.assert(jt,\"Reference.ts has not been loaded\"),jt},set:function(t){jt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ct){var r=\"Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().\",i=\"Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.\";if(t.hasStart()){if(t.getIndexStartName()!==R)throw new Error(r);if(\"string\"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==D)throw new Error(r);if(\"string\"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Rt){if(null!=e&&!nt(e)||null!=n&&!nt(n))throw new Error(\"Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).\")}else if(h.assert(t.getIndex()instanceof Yt||t.getIndex()===Kt,\"unknown index type.\"),null!=e&&\"object\"==typeof e||null!=n&&\"object\"==typeof n)throw new Error(\"Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.\")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error(\"Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.\")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+\": You can't combine multiple orderBy calls.\")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return h.validateArgCount(\"Query.ref\",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){h.validateArgCount(\"Query.on\",2,4,arguments.length),at(\"Query.on\",1,e,!1),h.validateCallback(\"Query.on\",2,n,!1);var o=t.getCancelAndContextArgs_(\"Query.on\",r,i);if(\"value\"===e)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[e]=n,this.onChildEvent(s,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new $t(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Jt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){h.validateArgCount(\"Query.off\",0,3,arguments.length),at(\"Query.off\",1,t,!0),h.validateCallback(\"Query.off\",2,e,!0),h.validateContextObject(\"Query.off\",3,n,!0);var r=null,i=null;if(\"value\"===t){var o=e||null;r=new $t(o,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Jt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;h.validateArgCount(\"Query.once\",1,4,arguments.length),at(\"Query.once\",1,e,!1),h.validateCallback(\"Query.once\",2,n,!0);var s=t.getCancelAndContextArgs_(\"Query.once\",r,i),a=!0,l=new h.Deferred;l.promise.catch((function(){}));var u=function t(r){a&&(a=!1,o.off(e,t),n&&n.bind(s.context)(r),l.resolve(r))};return this.on(e,u,(function(t){o.off(e,u),s.cancel&&s.cancel.bind(s.context)(t),l.reject(t)})),l.promise},t.prototype.limitToFirst=function(e){if(h.validateArgCount(\"Query.limitToFirst\",1,1,arguments.length),\"number\"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error(\"Query.limitToFirst: First argument must be a positive integer.\");if(this.queryParams_.hasLimit())throw new Error(\"Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).\");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(h.validateArgCount(\"Query.limitToLast\",1,1,arguments.length),\"number\"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error(\"Query.limitToLast: First argument must be a positive integer.\");if(this.queryParams_.hasLimit())throw new Error(\"Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).\");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(h.validateArgCount(\"Query.orderByChild\",1,1,arguments.length),\"$key\"===e)throw new Error('Query.orderByChild: \"$key\" is invalid.  Use Query.orderByKey() instead.');if(\"$priority\"===e)throw new Error('Query.orderByChild: \"$priority\" is invalid.  Use Query.orderByPriority() instead.');if(\"$value\"===e)throw new Error('Query.orderByChild: \"$value\" is invalid.  Use Query.orderByValue() instead.');lt(\"Query.orderByChild\",1,e,!1),this.validateNoPreviousOrderByCall_(\"Query.orderByChild\");var n=new V(e);if(n.isEmpty())throw new Error(\"Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.\");var r=new Yt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){h.validateArgCount(\"Query.orderByKey\",0,0,arguments.length),this.validateNoPreviousOrderByCall_(\"Query.orderByKey\");var e=this.queryParams_.orderBy(Ct);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){h.validateArgCount(\"Query.orderByPriority\",0,0,arguments.length),this.validateNoPreviousOrderByCall_(\"Query.orderByPriority\");var e=this.queryParams_.orderBy(Rt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){h.validateArgCount(\"Query.orderByValue\",0,0,arguments.length),this.validateNoPreviousOrderByCall_(\"Query.orderByValue\");var e=this.queryParams_.orderBy(Kt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),h.validateArgCount(\"Query.startAt\",0,2,arguments.length),rt(\"Query.startAt\",1,e,this.path,!0),ht(\"Query.startAt\",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error(\"Query.startAt: Starting point was already set (by another call to startAt or equalTo).\");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),h.validateArgCount(\"Query.endAt\",0,2,arguments.length),rt(\"Query.endAt\",1,e,this.path,!0),ht(\"Query.endAt\",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error(\"Query.endAt: Ending point was already set (by another call to endAt or equalTo).\");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(h.validateArgCount(\"Query.equalTo\",1,2,arguments.length),rt(\"Query.equalTo\",1,t,this.path,!1),ht(\"Query.equalTo\",2,e,!0),this.queryParams_.hasStart())throw new Error(\"Query.equalTo: Starting point was already set (by another call to startAt or equalTo).\");if(this.queryParams_.hasEnd())throw new Error(\"Query.equalTo: Ending point was already set (by another call to endAt or equalTo).\");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return h.validateArgCount(\"Query.toString\",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return h.validateArgCount(\"Query.toJSON\",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=F(t);return\"{}\"===e?\"default\":e},t.prototype.isEqual=function(e){if(h.validateArgCount(\"Query.isEqual\",1,1,arguments.length),!(e instanceof t)){var n=\"Query.isEqual failed: First argument must be an instance of firebase.database.Query.\";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,h.validateCallback(t,3,r.cancel,!0),r.context=n,h.validateContextObject(t,4,r.context,!0);else if(e)if(\"object\"==typeof e&&null!==e)r.context=e;else{if(\"function\"!=typeof e)throw new Error(h.errorPrefix(t,3,!0)+\" must either be a cancel callback or a context object.\");r.cancel=e}return r},Object.defineProperty(t.prototype,\"ref\",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),te=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Rt,(function(t,e){n.remember(new V(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();if(t=t.popFront(),this.children.has(r))this.children.get(r).forget(t)&&this.children.delete(r);return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new V(t.toString()+\"/\"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),ee=function(t,e){return t&&\"object\"==typeof t?(h.assert(\".sv\"in t,\"Unexpected leaf node or priority contents\"),e[t[\".sv\"]]):t},ne=function t(e,n){var r,i=e.getPriority().val(),o=ee(i,n);if(e.isLeafNode()){var s=e,a=ee(s.getValue(),n);return a!==s.getValue()||o!==s.getPriority().val()?new It(a,Ht(o)):e}var h=e;return r=h,o!==h.getPriority().val()&&(r=r.updatePriority(new It(o))),h.forEachChild(Rt,(function(e,i){var o=t(i,n);o!==i&&(r=r.updateImmediateChild(e,o))})),r};!function(t){t[t.OVERWRITE=0]=\"OVERWRITE\",t[t.MERGE=1]=\"MERGE\",t[t.ACK_USER_WRITE=2]=\"ACK_USER_WRITE\",t[t.LISTEN_COMPLETE=3]=\"LISTEN_COMPLETE\"}(Bt||(Bt={}));var re,ie,oe=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,h.assert(!r||e,\"Tagged queries must be from server.\")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),se=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Bt.ACK_USER_WRITE,this.source=oe.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return h.assert(this.affectedTree.children.isEmpty(),\"affectedTree should not have overlapping affected paths.\"),this;var n=this.affectedTree.subtree(new V(e));return new t(V.Empty,n,this.revert)}return h.assert(this.path.getFront()===e,\"operationForChild called for unrelated child.\"),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),ae=function(){function t(t,e){void 0===e&&(re||(re=new Ot(k)),e=re),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return L(e,(function(t,e){n=n.set(new V(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:V.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new V(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(V.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,V.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,V.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(V.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),he=function(){function t(t,e){this.source=t,this.path=e,this.type=Bt.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,V.Empty):new t(this.source,this.path.popFront())},t}(),le=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Bt.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,V.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),ue=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Bt.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new V(e));return n.isEmpty()?null:n.value?new le(this.source,V.Empty,n.value):new t(this.source,V.Empty,n)}return h.assert(this.path.getFront()===e,\"Can't get a merge for a child not on the path of the operation\"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return\"Operation(\"+this.path+\": \"+this.source.toString()+\" merge: \"+this.children.toString()+\")\"},t}(),ce=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),pe=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new ce(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new ce(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ce(Ut.EMPTY_NODE,!1,!1),new ce(Ut.EMPTY_NODE,!1,!1)),t}(),de=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED=\"child_added\",t.CHILD_REMOVED=\"child_removed\",t.CHILD_CHANGED=\"child_changed\",t.CHILD_MOVED=\"child_moved\",t.VALUE=\"value\",t}(),fe=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){h.assert(t.isIndexed(this.index_),\"A node must be indexed if only a child is updated\");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(de.childRemovedChange(e,s)):h.assert(t.isLeafNode(),\"A child remove without an old child only makes sense on a leaf node\"):s.isEmpty()?o.trackChildChange(de.childAddedChange(e,n)):o.trackChildChange(de.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Rt,(function(t,r){e.hasChild(t)||n.trackChildChange(de.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Rt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(de.childChangedChange(e,r,i))}else n.trackChildChange(de.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Ut.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),_e=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;h.assert(e===de.CHILD_ADDED||e===de.CHILD_CHANGED||e===de.CHILD_REMOVED,\"Only child changes supported for tracking\"),h.assert(\".priority\"!==n,\"Only non-priority child changes can be tracked.\");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===de.CHILD_ADDED&&i===de.CHILD_REMOVED)this.changeMap.set(n,de.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===de.CHILD_REMOVED&&i===de.CHILD_ADDED)this.changeMap.delete(n);else if(e===de.CHILD_REMOVED&&i===de.CHILD_CHANGED)this.changeMap.set(n,de.childRemovedChange(n,r.oldSnap));else if(e===de.CHILD_CHANGED&&i===de.CHILD_ADDED)this.changeMap.set(n,de.childAddedChange(n,t.snapshotNode));else{if(e!==de.CHILD_CHANGED||i!==de.CHILD_CHANGED)throw h.assertionError(\"Illegal combination of changes: \"+t+\" occurred after \"+r);this.changeMap.set(n,de.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),ye=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),ve=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ce(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),ge=function(t,e){this.viewCache=t,this.changes=e},me=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){h.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),\"Event snap not indexed\"),h.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),\"Server snap not indexed\")},t.prototype.applyOperation=function(e,n,r,i){var o,s,a=new _e;if(n.type===Bt.OVERWRITE){var l=n;l.source.fromUser?o=this.applyUserOverwrite_(e,l.path,l.snap,r,i,a):(h.assert(l.source.fromServer,\"Unknown source.\"),s=l.source.tagged||e.getServerCache().isFiltered()&&!l.path.isEmpty(),o=this.applyServerOverwrite_(e,l.path,l.snap,r,i,s,a))}else if(n.type===Bt.MERGE){var u=n;u.source.fromUser?o=this.applyUserMerge_(e,u.path,u.children,r,i,a):(h.assert(u.source.fromServer,\"Unknown source.\"),s=u.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,u.path,u.children,r,i,s,a))}else if(n.type===Bt.ACK_USER_WRITE){var c=n;o=c.revert?this.revertUserWrite_(e,c.path,r,i,a):this.ackUserWrite_(e,c.path,c.affectedTree,r,i,a)}else{if(n.type!==Bt.LISTEN_COMPLETE)throw h.assertionError(\"Unknown operation type: \"+n.type);o=this.listenComplete_(e,n.path,r,a)}var p=a.getChanges();return t.maybeAddValueEvent_(e,o,p),new ge(o,p)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(de.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,a=void 0;if(e.isEmpty())if(h.assert(t.getServerCache().isFullyInitialized(),\"If change path is empty, we must have complete server data\"),t.getServerCache().isFiltered()){var l=t.getCompleteServerSnap(),u=l instanceof Ut?l:Ut.EMPTY_NODE,c=n.calcCompleteEventChildren(u);s=this.filter_.updateFullNode(t.getEventCache().getNode(),c,i)}else{var p=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),p,i)}else{var d=e.getFront();if(\".priority\"===d){h.assert(1===e.getLength(),\"Can't have a priority with additional path components\");var f=o.getNode();a=t.getServerCache().getNode();var _=n.calcEventCacheAfterServerOverwrite(e,f,a);s=null!=_?this.filter_.updatePriority(f,_):o.getNode()}else{var y=e.popFront(),v=void 0;if(o.isCompleteForChild(d)){a=t.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),a);v=null!=g?o.getNode().getImmediateChild(d).updateChild(y,g):o.getNode().getImmediateChild(d)}else v=n.calcCompleteChild(d,t.getServerCache());s=null!=v?this.filter_.updateChild(o.getNode(),d,v,y,r,i):o.getNode()}}return t.updateEventSnap(s,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,h=t.getServerCache(),l=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=l.updateFullNode(h.getNode(),n,null);else if(l.filtersNodes()&&!h.isFiltered()){var u=h.getNode().updateChild(e,n);a=l.updateFullNode(h.getNode(),u,null)}else{var c=e.getFront();if(!h.isCompleteForPath(e)&&e.getLength()>1)return t;var p=e.popFront(),d=h.getNode().getImmediateChild(c).updateChild(p,n);a=\".priority\"===c?l.updatePriority(h.getNode(),d):l.updateChild(h.getNode(),c,d,p,ye,null)}var f=t.updateServerSnap(a,h.isFullyInitialized()||e.isEmpty(),l.filtersNodes()),_=new ve(r,f,i);return this.generateEventCacheAfterServerEvent_(f,e,r,_,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,h=t.getEventCache(),l=new ve(r,t,i);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var u=e.getFront();if(\".priority\"===u)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,h.isFullyInitialized(),h.isFiltered());else{var c=e.popFront(),p=h.getNode().getImmediateChild(u),d=void 0;if(c.isEmpty())d=n;else{var f=l.getCompleteChild(u);d=null!=f?\".priority\"===c.getBack()&&f.getChild(c.parent()).isEmpty()?f:f.updateChild(c,n):Ut.EMPTY_NODE}if(p.equals(d))s=t;else{var _=this.filter_.updateChild(h.getNode(),u,d,c,l,o);s=t.updateEventSnap(_,h.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,h=e;return r.foreach((function(r,l){var u=n.child(r);t.cacheHasChild_(e,u.getFront())&&(h=a.applyUserOverwrite_(h,u,l,i,o,s))})),r.foreach((function(r,l){var u=n.child(r);t.cacheHasChild_(e,u.getFront())||(h=a.applyUserOverwrite_(h,u,l,i,o,s))})),h},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var h,l=t;h=e.isEmpty()?n:ae.Empty.setTree(e,n);var u=t.getServerCache().getNode();return h.children.inorderTraversal((function(e,n){if(u.hasChild(e)){var h=t.getServerCache().getNode().getImmediateChild(e),c=a.applyMerge_(h,n);l=a.applyServerOverwrite_(l,new V(e),c,r,i,o,s)}})),h.children.inorderTraversal((function(e,n){var h=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!u.hasChild(e)&&!h){var c=t.getServerCache().getNode().getImmediateChild(e),p=a.applyMerge_(c,n);l=a.applyServerOverwrite_(l,new V(e),p,r,i,o,s)}})),l},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(e.isEmpty()){var h=ae.Empty;return a.getNode().forEachChild(Ct,(function(t,e){h=h.set(new V(t),e)})),this.applyServerMerge_(t,e,h,r,i,s,o)}return t}var l=ae.Empty;return n.foreach((function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(l=l.set(t,a.getNode().getChild(r)))})),this.applyServerMerge_(t,e,l,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,ye,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var s=new ve(n,t,r),a=t.getEventCache().getNode(),l=void 0;if(e.isEmpty()||\".priority\"===e.getFront()){var u=void 0;if(t.getServerCache().isFullyInitialized())u=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var c=t.getServerCache().getNode();h.assert(c instanceof Ut,\"serverChildren would be complete if leaf node\"),u=n.calcCompleteEventChildren(c)}u=u,l=this.filter_.updateFullNode(a,u,i)}else{var p=e.getFront(),d=n.calcCompleteChild(p,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(p)&&(d=a.getImmediateChild(p)),(l=null!=d?this.filter_.updateChild(a,p,d,e.popFront(),s,i):t.getEventCache().getNode().hasChild(p)?this.filter_.updateChild(a,p,Ut.EMPTY_NODE,e.popFront(),s,i):a).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(l=this.filter_.updateFullNode(l,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(V.Empty),t.updateEventSnap(l,o,this.filter_.filtersNodes())},t}(),Ce=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===de.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(de.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,de.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,de.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,de.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,de.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,de.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,s=n.filter((function(t){return t.type===e}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return\"value\"===t.type||\"child_removed\"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw h.assertionError(\"Should only compare child_ events.\");var n=new vt(t.childName,t.snapshotNode),r=new vt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ee=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new fe(n.getIndex()),i=n.getNodeFilter();this.processor_=new me(i);var o=e.getServerCache(),s=e.getEventCache(),a=r.updateFullNode(Ut.EMPTY_NODE,o.getNode(),null),h=i.updateFullNode(Ut.EMPTY_NODE,s.getNode(),null),l=new ce(a,o.isFullyInitialized(),r.filtersNodes()),u=new ce(h,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new pe(u,l),this.eventGenerator_=new Ce(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){h.assert(null==t,\"A cancel should cancel all event registrations.\");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)}))}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===Bt.MERGE&&null!==t.source.queryId&&(h.assert(this.viewCache_.getCompleteServerSnap(),\"We should always have a full cache before handling merges\"),h.assert(this.viewCache_.getCompleteEventSnap(),\"Missing event cache, even though we have a server cache\"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),h.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),\"Once a server snap is complete, it should never go back\"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(Rt,(function(t,e){n.push(de.childAddedChange(t,e))}));return e.isFullyInitialized()&&n.push(de.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),we=function(){function t(){this.views=new Map}return Object.defineProperty(t,\"__referenceConstructor\",{get:function(){return h.assert(ie,\"Reference.ts has not been loaded\"),ie},set:function(t){h.assert(!ie,\"__referenceConstructor has already been defined\"),ie=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var s=this.views.get(o);return h.assert(null!=s,\"SyncTree gave us an op for an invalid query.\"),s.applyOperation(t,e,n)}var l=[];try{for(var u=a.__values(this.views.values()),c=u.next();!c.done;c=u.next()){s=c.value;l=l.concat(s.applyOperation(t,e,n))}}catch(p){r={error:p}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return l},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),h=!1;a?h=!0:r instanceof Ut?(a=n.calcCompleteEventChildren(r),h=!1):(a=Ut.EMPTY_NODE,h=!1);var l=new pe(new ce(a,h,!1),new ce(r,i,!1));s=new Ee(t,l),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,o,s=e.queryIdentifier(),h=[],l=[],u=this.hasCompleteView();if(\"default\"===s)try{for(var c=a.__values(this.views.entries()),p=c.next();!p.done;p=c.next()){var d=a.__read(p.value,2),f=d[0],_=d[1];l=l.concat(_.removeEventRegistration(n,r)),_.isEmpty()&&(this.views.delete(f),_.getQuery().getQueryParams().loadsAllData()||h.push(_.getQuery()))}}catch(y){i={error:y}}finally{try{p&&!p.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}else(_=this.views.get(s))&&(l=l.concat(_.removeEventRegistration(n,r)),_.isEmpty()&&(this.views.delete(s),_.getQuery().getQueryParams().loadsAllData()||h.push(_.getQuery())));return u&&!this.hasCompleteView()&&h.push(new t.__referenceConstructor(e.repo,e.path)),{removed:h,events:l}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=a.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=a.__values(this.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r||s.getCompleteServerCache(t)}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=a.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Te=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new ae(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=V.relativePath(i,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(i,o))}var a=new ae(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return L(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,ae.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(V.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Rt,(function(e,n){t.push(new vt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new vt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new ae(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){\".priority\"===n?(h.assert(null!==o.value,\"Priority writes must always be leaf nodes\"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(\".priority\"),i)),r}(V.Empty,this.writeTree_,t)},t.Empty=new t(new ae(null)),t}();var be=function(){function t(){this.visibleWrites_=Te.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Se(t,this)},t.prototype.addOverwrite=function(t,e,n,r){h.assert(n>this.lastWriteId_,\"Stacking an older write on top of newer ones\"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){h.assert(n>this.lastWriteId_,\"Stacking an older merge on top of newer ones\"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));h.assert(n>=0,\"removeWrite called with nonexistent writeId.\");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,s=this.allWrites_.length-1;i&&s>=0;){var a=this.allWrites_[s];a.visible&&(s>=n&&this.recordContainsPath_(a,r.path)?i=!1:r.path.contains(a.path)&&(o=!0)),s--}if(i){if(o)return this.resetTree_(),!0;r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):L(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}));return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(V.Empty)){var s=t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e);l=n||Ut.EMPTY_NODE;return s.apply(l)}return null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var h=this.visibleWrites_.childCompoundWrite(e);if(h.isEmpty())return n;if(null!=n||h.hasCompleteWrite(V.Empty)){var l=n||Ut.EMPTY_NODE;return h.apply(l)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Ut.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Rt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Rt,(function(t,e){var r=i.childCompoundWrite(new V(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){h.assert(n||r,\"Either existingEventSnap or existingServerSnap must exist\");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(t),h=a.getCompleteNode(V.Empty);if(null!=h)s=h;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],u=o.getCompare(),c=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),p=c.getNext();p&&l.length<r;)0!==u(p,n)&&l.push(p),p=c.getNext();return l},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,V.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Te.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var s=o.path,a=void 0;if(o.snap)n.contains(s)?(a=V.relativePath(n,s),r=r.addWrite(a,o.snap)):s.contains(n)&&(a=V.relativePath(s,n),r=r.addWrite(V.Empty,o.snap.getChild(a)));else{if(!o.children)throw h.assertionError(\"WriteRecord should have .snap or .children\");if(n.contains(s))a=V.relativePath(n,s),r=r.addWrites(a,o.children);else if(s.contains(n))if((a=V.relativePath(s,n)).isEmpty())r=r.addWrites(V.Empty,o.children);else{var l=h.safeGet(o.children,a.getFront());if(l){var u=l.getChild(a.popFront());r=r.addWrite(V.Empty,u)}}}}}return r},t}(),Se=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Ie=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=ae.Empty,this.pendingWriteTree_=new be,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new le(oe.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=ae.fromObject(e);return this.applyOperationToSyncPoints_(new ue(oe.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=ae.Empty;return null!=n.snap?r=r.set(V.Empty,!0):L(n.children,(function(t,e){r=r.set(new V(t),e)})),this.applyOperationToSyncPoints_(new se(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new le(oe.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=ae.fromObject(e);return this.applyOperationToSyncPoints_(new ue(oe.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new he(oe.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,h=V.relativePath(s,e),l=new le(oe.forServerTaggedQuery(a),h,n);return this.applyTaggedOperation_(s,l)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,h=V.relativePath(s,e),l=ae.fromObject(n),u=new ue(oe.forServerTaggedQuery(a),h,l);return this.applyTaggedOperation_(s,u)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,s=i.queryId,a=V.relativePath(o,e),h=new he(oe.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,h)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=V.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var s,a=this.syncPointTree_.get(r);(a?(o=o||a.hasCompleteView(),i=i||a.getCompleteServerCache(V.Empty)):(a=new we,this.syncPointTree_=this.syncPointTree_.set(r,a)),null!=i)?s=!0:(s=!1,i=Ut.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(V.Empty);n&&(i=i.updateImmediateChild(t,n))})));var l=a.viewExistsForQuery(e);if(!l&&!e.getQueryParams().loadsAllData()){var u=t.makeQueryKey_(e);h.assert(!this.queryToTagMap.has(u),\"View does not exist, but we have a tag\");var c=t.getNextQueryTag_();this.queryToTagMap.set(u,c),this.tagToQueryMap.set(c,u)}var p=this.pendingWriteTree_.childWrites(r),d=a.addEventRegistration(e,n,p,i,s);if(!l&&!o){var f=a.viewForQuery(e);d=d.concat(this.setupListener_(e,f))}return d},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&(\"default\"===e.queryIdentifier()||s.viewExistsForQuery(e))){var h=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var l=h.removed;a=h.events;var u=-1!==l.findIndex((function(t){return t.getQueryParams().loadsAllData()})),c=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(u&&!c){var p=this.syncPointTree_.subtree(o);if(!p.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(p),f=0;f<d.length;++f){var _=d[f],y=_.getQuery(),v=this.createListenerForView_(_);this.listenProvider_.startListening(t.queryForListening_(y),this.tagForQuery_(y),v.hashFn,v.onComplete)}}if(!c&&l.length>0&&!r)if(u){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else l.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}));this.removeTags_(l)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=V.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),L(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),a=this.syncPointTree_.subtree(r);if(i)h.assert(!a.value.hasCompleteView(),\"If we're adding a query, it shouldn't be shadowed\");else for(var l=a.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),L(n,(function(t,e){r=r.concat(e)})),r})),u=0;u<l.length;++u){var c=l[u];this.listenProvider_.stopListening(t.queryForListening_(c),this.tagForQuery_(c))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Ut.EMPTY_NODE).hash()},onComplete:function(t){if(\"ok\"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n=\"Unknown Error\";\"too_big\"===t?n=\"The data requested exceeds the maximum size that can be accessed with a single request.\":\"permission_denied\"===t?n=\"Client doesn't have permission to access the desired data.\":\"unavailable\"===t&&(n=\"The service is unavailable\");var r=new Error(t+\" at \"+e.path.toString()+\": \"+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+\"$\"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf(\"$\");return h.assert(-1!==e&&e<t.length-1,\"Bad queryKey.\"),{queryId:t.substr(e+1),path:new V(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);h.assert(n,\"Missing sync point for query tag that we're tracking\");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(V.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(V.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(V.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),h=e.children.get(s);if(h&&a){var l=n?n.getImmediateChild(s):null,u=r.child(s);o=o.concat(this.applyOperationHelper_(a,h,l,u))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(V.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(V.Empty));var s=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,h=r.child(e),l=t.operationForChild(e);l&&(s=s.concat(i.applyOperationDescendantsHelper_(l,o,a,h)))})),o&&(s=s.concat(o.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),Ne=function(){function t(){this.rootNode_=Ut.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Pe=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&\"auth/token-not-initialized\"===t.code?(T(\"Got auth/token-not-initialized error.  Treating as null token.\"),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named \"'+this.app_.name+'\" are invalid. This usually indicates your app was not initialized correctly. ';\"credential\"in this.app_.options?t+='Make sure the \"credential\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':\"serviceAccount\"in this.app_.options?t+='Make sure the \"serviceAccount\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':t+='Make sure the \"apiKey\" and \"databaseURL\" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',N(t)},t}(),Re=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),h.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return h.deepCopy(this.counters_)},t}(),De=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Re),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),xe=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=a.__assign({},t);return this.last_&&L(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),ke=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new xe(t);var n=1e4+2e4*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;L(e,(function(e,i){i>0&&h.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Oe=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Fe(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Fe=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();C&&T(\"event: \"+e.toString()),Q(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Ae=function(){function t(t){this.allowedEvents_=t,this.listeners_={},h.assert(Array.isArray(t)&&t.length>0,\"Requires a non-empty array\")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=a.__spread(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){h.assert(this.allowedEvents_.find((function(e){return e===t})),\"Unknown event: \"+t)},t}(),Le=function(t){function e(){var e,n,r=t.call(this,[\"visible\"])||this;return\"undefined\"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n=\"visibilitychange\",e=\"hidden\"):void 0!==document.mozHidden?(n=\"mozvisibilitychange\",e=\"mozHidden\"):void 0!==document.msHidden?(n=\"msvisibilitychange\",e=\"msHidden\"):void 0!==document.webkitHidden&&(n=\"webkitvisibilitychange\",e=\"webkitHidden\")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger(\"visible\",t))}),!1),r}return a.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return h.assert(\"visible\"===t,\"Unknown event type: \"+t),[this.visible_]},e}(Ae),Me=function(t){function e(){var e=t.call(this,[\"online\"])||this;return e.online_=!0,\"undefined\"==typeof window||void 0===window.addEventListener||h.isMobileCordova()||(window.addEventListener(\"online\",(function(){e.online_||(e.online_=!0,e.trigger(\"online\",!0))}),!1),window.addEventListener(\"offline\",(function(){e.online_&&(e.online_=!1,e.trigger(\"online\",!1))}),!1)),e}return a.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return h.assert(\"online\"===t,\"Unknown event type: \"+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Ae),We=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&Q((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),\"break\";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if(\"break\"===r())break}},t}(),qe=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=b(t),this.stats_=De.getCollection(e),this.urlFn=function(t){return e.connectionURL(\"long_polling\",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new We(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_(\"Timed out trying to connect.\"),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(h.isNodeSdk()||\"complete\"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener(\"DOMContentLoaded\",n,!1),window.addEventListener(\"load\",n,!1)):document.attachEvent&&(document.attachEvent(\"onreadystatechange\",(function(){\"complete\"===document.readyState&&n()})),window.attachEvent(\"onload\",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Qe((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.__read(t,5),i=r[0],o=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,\"start\"===i)n.id=o,n.password=s;else{if(\"close\"!==i)throw new Error(\"Unrecognized command received: \"+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.__read(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:\"t\"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v=\"5\",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),\"undefined\"!=typeof location&&location.href&&-1!==location.href.indexOf(\"firebaseio.com\")&&(t.r=\"f\");var e=n.urlFn(t);n.log_(\"Connecting via long-poll to \"+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!h.isNodeSdk()&&(!!t.forceAllow_||!(t.forceDisallow_||\"undefined\"==typeof document||null==document.createElement||\"object\"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||\"object\"==typeof Windows&&\"object\"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_(\"Longpoll is closing itself\"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_(\"Longpoll is being closed.\"),this.shutdown_())},t.prototype.send=function(t){var e=h.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter(\"bytes_sent\",e.length);for(var n=h.base64Encode(e),r=A(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!h.isNodeSdk()){this.myDisconnFrame=document.createElement(\"iframe\");var n={dframe:\"t\"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display=\"none\",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=h.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter(\"bytes_received\",e)},t}(),Qe=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,h.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window[\"pLPCommand\"+this.uniqueCallbackIdentifier]=e,window[\"pRTLPCB\"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o=\"\";if(this.myIFrame.src&&\"javascript:\"===this.myIFrame.src.substr(0,\"javascript:\".length))o='<script>document.domain=\"'+document.domain+'\";<\\/script>';var s=\"<html><body>\"+o+\"</body></html>\";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){T(\"frame writing exception\"),a.stack&&T(a.stack),T(a)}}}return t.createIFrame_=function(){var t=document.createElement(\"iframe\");if(t.style.display=\"none\",!document.body)throw\"Document body has not initialized. Wait to initialize Firebase until after the document is ready.\";document.body.appendChild(t);try{t.contentWindow.document||T(\"No IE domain setting required\")}catch(n){var e=document.domain;t.src=\"javascript:void((function(){document.open();document.domain='\"+e+\"';document.close();})())\"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML=\"\",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n=\"\",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+\"&seg\"+r+\"=\"+i.seg+\"&ts\"+r+\"=\"+i.ts+\"&d\"+r+\"=\"+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;h.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement(\"script\");r.type=\"text/javascript\",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&\"loaded\"!==t&&\"complete\"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){T(\"Long-poll script failed to load: \"+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Ue=\"\";var Ve=null;\"undefined\"!=typeof MozWebSocket?Ve=MozWebSocket:\"undefined\"!=typeof WebSocket&&(Ve=WebSocket);var He=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=b(this.connId),this.stats_=De.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,n){var r={v:\"5\"};return!h.isNodeSdk()&&\"undefined\"!=typeof location&&location.href&&-1!==location.href.indexOf(\"firebaseio.com\")&&(r.r=\"f\"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(\"websocket\",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_(\"Websocket connecting to \"+this.connURL),this.everConnected_=!1,f.set(\"previous_websocket_failure\",!0);try{if(h.isNodeSdk()){var i=h.CONSTANTS.NODE_ADMIN?\"AdminNode\":\"Node\",o={headers:{\"User-Agent\":\"Firebase/5/\"+Ue+\"/\"+r.platform+\"/\"+i}},s={},a=0===this.connURL.indexOf(\"wss://\")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(o.proxy={origin:a}),this.mySock=new Ve(this.connURL,[],o)}else this.mySock=new Ve(this.connURL)}catch(u){this.log_(\"Error instantiating WebSocket.\");var l=u.message||u.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_(\"Websocket connected.\"),n.everConnected_=!0},this.mySock.onclose=function(){n.log_(\"Websocket connection was disconnected.\"),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_(\"WebSocket error.  Closing connection.\");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(\"undefined\"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ve&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get(\"previous_websocket_failure\")},t.prototype.markConnectionHealthy=function(){f.remove(\"previous_websocket_failure\")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join(\"\");this.frames=null;var n=h.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(h.assert(null===this.frames,\"We already have a frame buffer\"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter(\"bytes_received\",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=h.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter(\"bytes_sent\",e.length);var n=A(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_(\"WebSocket is closing itself\"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_(\"WebSocket is being closed\"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_(\"0\"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_(\"Exception thrown from WebSocket.send():\",e.message||e.data,\"Closing connection.\"),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),je=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,\"ALL_TRANSPORTS\",{get:function(){return[qe,He]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=He&&He.isAvailable(),o=i&&!He.previouslyFailed();if(e.webSocketOnly&&(i||N(\"wss:// URL used, but browser isn't known to support websockets.  Trying anyway.\"),o=!0),o)this.transports_=[He];else{var s=this.transports_=[];try{for(var h=a.__values(t.ALL_TRANSPORTS),l=h.next();!l.done;l=h.next()){var u=l.value;u&&u.isAvailable()&&s.push(u)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error(\"No transports available\")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Be=function(){function t(t,e,n,r,i,o,s){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=b(\"c:\"+this.id+\":\"),this.transportManager_=new je(e),this.log_(\"Connection created\"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=U((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_(\"Connection exceeded healthy timeout but has received \"+t.conn_.bytesReceived+\" bytes.  Marking connection healthy.\"),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_(\"Connection exceeded healthy timeout but has sent \"+t.conn_.bytesSent+\" bytes.  Leaving connection alive.\"):(t.log_(\"Closing unhealthy connection after timeout.\"),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return\"c:\"+this.id+\":\"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_(\"Secondary connection lost.\"),e.onSecondaryConnectionLost_()):e.log_(\"closing an old connection\")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_(\"message on old connection\"))}},t.prototype.sendRequest=function(t){var e={t:\"d\",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_(\"cleaning up and promoting a connection: \"+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if(\"t\"in t){var e=t.t;\"a\"===e?this.upgradeIfSecondaryHealthy_():\"r\"===e?(this.log_(\"Got a reset on secondary, closing it\"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):\"o\"===e&&(this.log_(\"got pong on secondary.\"),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=O(\"t\",t),n=O(\"d\",t);if(\"c\"===e)this.onSecondaryControl_(n);else{if(\"d\"!==e)throw new Error(\"Unknown protocol layer: \"+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_(\"Secondary connection is healthy.\"),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_(\"sending ping on secondary.\"),this.secondaryConn_.send({t:\"c\",d:{t:\"p\",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_(\"sending client ack on secondary\"),this.secondaryConn_.send({t:\"c\",d:{t:\"a\",d:{}}}),this.log_(\"Ending transmission on primary\"),this.conn_.send({t:\"c\",d:{t:\"n\",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=O(\"t\",t),n=O(\"d\",t);\"c\"===e?this.onControl_(n):\"d\"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_(\"Primary connection is healthy.\"),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=O(\"t\",t);if(\"d\"in t){var n=t.d;if(\"h\"===e)this.onHandshake_(n);else if(\"n\"===e){this.log_(\"recvd end transmission on primary\"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else\"s\"===e?this.onConnectionShutdown_(n):\"r\"===e?this.onReset_(n):\"e\"===e?S(\"Server Error: \"+n):\"o\"===e?(this.log_(\"got pong on primary.\"),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S(\"Unknown control packet command: \"+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),\"5\"!==n&&N(\"Protocol version mismatch detected\"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),U((function(){e.secondaryConn_&&(e.log_(\"Timed out trying to upgrade.\"),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_(\"Reset packet received.  New host: \"+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_(\"Realtime connection established.\"),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_(\"Primary connection is healthy.\"),this.isHealthy_=!0):U((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_(\"sending ping on primary.\"),this.sendData_({t:\"c\",d:{t:\"p\",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_(\"Realtime connection lost.\"):(this.log_(\"Realtime connection failed.\"),this.repoInfo_.isCacheableHost()&&(f.remove(\"host:\"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_(\"Connection shutdown command received. Shutting down...\"),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw\"Connection is not connected\";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_(\"Closing realtime connection.\"),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_(\"Shutting down all connections\"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Ke=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Ye=function(t){function e(n,r,i,o,s,a){var l=t.call(this)||this;if(l.repoInfo_=n,l.onDataUpdate_=r,l.onConnectStatus_=i,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.authOverride_=a,l.id=e.nextPersistentConnectionId_++,l.log_=b(\"p:\"+l.id+\":\"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,a&&!h.isNodeSdk())throw new Error(\"Auth override specified in options, but not supported on non Node.js platforms\");return l.scheduleConnect_(0),Le.getInstance().on(\"visible\",l.onVisible_,l),-1===n.host.indexOf(\"fblocal\")&&Me.getInstance().on(\"online\",l.onOnline_,l),l}return a.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(h.stringify(i)),h.assert(this.connected_,\"sendRequest call when we're not connected not allowed.\"),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_(\"Listen called for \"+o+\" \"+i),this.listens.has(o)||this.listens.set(o,new Map),h.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),\"listen() called for non-default but complete query\"),h.assert(!this.listens.get(o).has(i),\"listen() called twice for same path/queryId.\");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_(\"Listen on \"+i+\" for \"+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest(\"q\",s,(function(s){var a=s.d,h=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_(\"listen response\",s),\"ok\"!==h&&n.removeListen_(i,o),t.onComplete&&t.onComplete(h,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&\"object\"==typeof t&&h.contains(t,\"w\")){var n=h.safeGet(t,\"w\");if(Array.isArray(n)&&~n.indexOf(\"no_index\")){var r='\".indexOn\": \"'+e.getQueryParams().getIndex().toString()+'\"',i=e.path.toString();N(\"Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding \"+r+\" at \"+i+\" to your security rules for better performance.\")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_(\"Auth token refreshed\"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest(\"unauth\",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||h.isAdmin(t))&&(this.log_(\"Admin auth credential detected.  Reducing max reconnect time.\"),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=h.isValidFormat(e)?\"auth\":\"gauth\",r={cred:e};null===this.authOverride_?r.noauth=!0:\"object\"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||\"error\";t.authToken_===e&&(\"ok\"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_(\"Unlisten called for \"+n+\" \"+r),h.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),\"unlisten() called for non-default but complete query\"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_(\"Unlisten on \"+t+\" for \"+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest(\"n\",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_(\"o\",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:\"o\",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_(\"om\",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:\"om\",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_(\"oc\",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:\"oc\",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_(\"onDisconnect \"+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal(\"p\",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal(\"m\",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_(\"Buffering put: \"+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+\" response\",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_(\"reportStats\",n),this.sendRequest(\"s\",n,(function(t){if(\"ok\"!==t.s){var n=t.d;e.log_(\"reportStats\",\"Error sending stats: \"+n)}}))}},e.prototype.onDataMessage_=function(t){if(\"r\"in t){this.log_(\"from server: \"+h.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if(\"error\"in t)throw\"A server-side error has occurred: \"+t.error;\"a\"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_(\"handleServerMessage\",t,e),\"d\"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):\"m\"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):\"c\"===t?this.onListenRevoked_(e.p,e.q):\"ac\"===t?this.onAuthRevoked_(e.s,e.d):\"sd\"===t?this.onSecurityDebugPacket_(e):S(\"Unrecognized action received from server: \"+h.stringify(t)+\"\\nAre you using the latest client?\")},e.prototype.onReady_=function(t,e){this.log_(\"connection ready\"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;h.assert(!this.realtime_,\"Scheduling a connect when we're already connected/ing?\"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_(\"Window became visible.  Reducing delay.\"),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_(\"Browser went online.\"),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_(\"Browser went offline.  Killing connection.\"),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_(\"data client disconnected\"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_(\"Window isn't visible.  Delaying reconnect.\"),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_(\"Trying to reconnect in \"+e+\"ms\"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_(\"Making a connection attempt\"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+\":\"+e.nextConnectionId_++,o=this,s=this.lastSessionId,a=!1,l=null,u=function(){l?l.close():(a=!0,r())};this.realtime_={close:u,sendRequest:function(t){h.assert(l,\"sendRequest call when we're not connected not allowed.\"),l.sendRequest(t)}};var c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(c).then((function(e){a?T(\"getToken() completed but was canceled\"):(T(\"getToken() completed. Creating connection.\"),o.authToken_=e&&e.accessToken,l=new Be(i,o.repoInfo_,t,n,r,(function(t){N(t+\" (\"+o.repoInfo_.toString()+\")\"),o.interrupt(\"server_kill\")}),s))})).then(null,(function(t){o.log_(\"Failed to get token: \"+t),a||(h.CONSTANTS.NODE_ADMIN&&N(t),u())}))}},e.prototype.interrupt=function(t){T(\"Interrupting connection for reason: \"+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){T(\"Resuming connection for reason: \"+t),delete this.interruptReasons_[t],h.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&\"h\"in e.request&&e.queued&&(e.onComplete&&e.onComplete(\"disconnect\"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return F(t)})).join(\"$\"):\"default\";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete(\"permission_denied\")},e.prototype.removeListen_=function(t,e){var n,r=new V(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){T(\"Auth token revoked: \"+t+\"/\"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),\"invalid_token\"!==t&&\"permission_denied\"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):\"msg\"in t&&console.log(\"FIREBASE: \"+t.msg.replace(\"\\n\",\"\\nFIREBASE: \"))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=a.__values(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var h=(n=void 0,a.__values(s.values())),l=h.next();!l.done;l=h.next()){var u=l.value;this.sendListen_(u)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var p=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(p.action,p.pathString,p.data,p.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e=\"js\";h.CONSTANTS.NODE_ADMIN?e=\"admin_node\":h.CONSTANTS.NODE_CLIENT&&(e=\"node\"),t[\"sdk.\"+e+\".\"+Ue.replace(/\\./g,\"-\")]=1,h.isMobileCordova()?t[\"framework.cordova\"]=1:h.isReactNative()&&(t[\"framework.reactnative\"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Me.getInstance().currentlyOnline();return h.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Ke),ze=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=b(\"p:rest:\"),i.listens_={},i}return a.__extends(e,t),e.prototype.reportStats=function(t){throw new Error(\"Method not implemented.\")},e.getListenId_=function(t,e){return void 0!==e?\"tag$\"+e:(h.assert(t.getQueryParams().isDefault(),\"should have a tag if it's not a default query.\"),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,s=t.path.toString();this.log_(\"Listen called for \"+s+\" \"+t.queryIdentifier());var a=e.getListenId_(t,r),l={};this.listens_[a]=l;var u=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+\".json\",u,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(s,n,!1,r),h.safeGet(o.listens_,a)===l)&&i(t?401===t?\"permission_denied\":\"rest_error:\"+t:\"ok\",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format=\"export\",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e.auth=o);var s=(r.repoInfo_.secure?\"https://\":\"http://\")+r.repoInfo_.host+t+\"?ns=\"+r.repoInfo_.namespace+h.querystring(e);r.log_(\"Sending REST request for \"+s);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(n&&4===a.readyState){r.log_(\"REST Response for \"+s+\" received. status:\",a.status,\"response:\",a.responseText);var t=null;if(a.status>=200&&a.status<300){try{t=h.jsonEval(a.responseText)}catch(e){N(\"Failed to parse JSON response for \"+s+\": \"+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&N(\"Got unsuccessful REST response for \"+s+\" Status: \"+a.status),n(a.status);n=null}},a.open(\"GET\",s,!0),a.send()}))},e}(Ke),Ge=function(){function t(t,e,n,r){var i=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Oe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new te,this.persistentConnection_=null;var o=new Pe(n,r);if(this.stats_=De.getCollection(t),e||(\"object\"==typeof window&&window.navigator&&window.navigator.userAgent||\"\").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new ze(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var s=n.options.databaseAuthVariableOverride;if(null!=s){if(\"object\"!=typeof s)throw new Error(\"Only objects are supported for option databaseAuthVariableOverride\");try{h.stringify(s)}catch(a){throw new Error(\"Invalid authOverride provided: \"+a)}}this.persistentConnection_=new Ye(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,s),this.server_=this.persistentConnection_}o.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=De.getOrCreateReporter(t,(function(){return new ke(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new Ne,this.infoSyncTree_=new Ie({startListening:function(t,e,n,r){var o=[],s=i.infoData_.getNode(t.path);return s.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout((function(){r(\"ok\")}),0)),o},stopListening:function(){}}),this.updateInfo_(\"connected\",!1),this.serverSyncTree_=new Ie({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?\"https://\":\"http://\")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new V(\".info/serverTimeOffset\")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new V(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var s=h.map(e,(function(t){return Ht(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var a=Ht(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,a,r)}else if(n){var l=h.map(e,(function(t){return Ht(t)}));o=this.serverSyncTree_.applyServerMerge(i,l)}else{var u=Ht(e);o=this.serverSyncTree_.applyServerOverwrite(i,u)}var c=i;o.length>0&&(c=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(c,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_(\"connected\",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;L(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new V(\"/.info/\"+t),r=Ht(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_(\"set\",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=Ht(e,n),a=ne(s,o),h=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,a,h,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),s.val(!0),(function(e,n){var o=\"ok\"===e;o||N(\"set at \"+t+\" failed: \"+e);var s=i.serverSyncTree_.ackUserWrite(h,!o);i.eventQueue_.raiseEventsForChangedPath(t,s),i.callOnCompleteCallback(r,e,n)}));var u=this.abortTransactions_(t);this.rerunTransactions_(u),this.eventQueue_.raiseEventsForChangedPath(u,[])},t.prototype.update=function(t,e,n){var r=this;this.log_(\"update\",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(L(e,(function(t,e){i=!1;var n=Ht(e);s[t]=ne(n,o)})),i)T(\"update() called with empty data.  Don't do anything.\"),this.callOnCompleteCallback(n,\"ok\");else{var a=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(h),this.server_.merge(t.toString(),e,(function(e,i){var o=\"ok\"===e;o||N(\"update at \"+t+\" failed: \"+e);var s=r.serverSyncTree_.ackUserWrite(a,!o),h=s.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(h,s),r.callOnCompleteCallback(n,e,i)})),L(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_(\"onDisconnectEvents\");var e=this.generateServerValues(),n=function(t,e){var n=new te;return t.forEachTree(new V(\"\"),(function(t,r){n.remember(t,ne(r,e))})),n}(this.onDisconnect_,e),r=[];n.forEachTree(V.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new te,this.eventQueue_.raiseEventsForChangedPath(V.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){\"ok\"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Ht(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){\"ok\"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Ht(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){\"ok\"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(h.isEmpty(e))return T(\"onDisconnect().update() called with empty data.  Don't do anything.\"),void this.callOnCompleteCallback(n,\"ok\");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){\"ok\"===i&&L(e,(function(e,n){var i=Ht(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=\".info\"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=\".info\"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(\"repo_interrupt\")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(\"repo_interrupt\")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),\"undefined\"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new xe(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);L(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=\" \";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=\"\";this.persistentConnection_&&(n=this.persistentConnection_.id+\":\"),T.apply(void 0,a.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&Q((function(){if(\"ok\"===e)t(null);else{var r=(e||\"error\").toUpperCase(),i=r;n&&(i+=\": \"+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,\"database\",{get:function(){return this.__database||(this.__database=new sn(this))},enumerable:!0,configurable:!0}),t}(),Xe=function(){function t(e){this.indexedFilter_=new fe(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new vt(e,n))||(n=Ut.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Ut.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Ut.EMPTY_NODE);var i=this;return e.forEachChild(Rt,(function(t,e){i.matches(new vt(t,e))||(r=r.updateImmediateChild(t,Ut.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),$e=function(){function t(t){this.rangedFilter_=new Xe(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new vt(e,n))||(n=Ut.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Ut.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Ut.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Ut.EMPTY_NODE);var a=void 0,h=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();var u=this.index_.getCompare();l=function(t,e){return u(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var c=!1;i.hasNext();){s=i.getNext();!c&&l(a,s)<=0&&(c=!0),c&&o<this.limit_&&l(s,h)<=0?o++:r=r.updateImmediateChild(s.name,Ut.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,e){return s(e,t)}}else o=this.index_.getCompare();var a=t;h.assert(a.numChildren()===this.limit_,\"\");var l=new vt(e,n),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(e)){for(var p=a.getImmediateChild(e),d=r.getChildAfterChild(this.index_,u,this.reverse_);null!=d&&(d.name===e||a.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var f=null==d?1:o(d,l);if(c&&!n.isEmpty()&&f>=0)return null!=i&&i.trackChildChange(de.childChangedChange(e,n,p)),a.updateImmediateChild(e,n);null!=i&&i.trackChildChange(de.childRemovedChange(e,p));var _=a.updateImmediateChild(e,Ut.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(de.childAddedChange(d.name,d.node)),_.updateImmediateChild(d.name,d.node)):_}return n.isEmpty()?t:c&&o(u,l)>=0?(null!=i&&(i.trackChildChange(de.childRemovedChange(u.name,u.node)),i.trackChildChange(de.childAddedChange(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(u.name,Ut.EMPTY_NODE)):t},t}(),Je=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_=\"\",this.indexStartValue_=null,this.indexStartName_=\"\",this.indexEndValue_=null,this.indexEndName_=\"\",this.index_=Rt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return\"\"===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return h.assert(this.startSet_,\"Only valid if start has been set\"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return h.assert(this.startSet_,\"Only valid if start has been set\"),this.startNameSet_?this.indexStartName_:R},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return h.assert(this.endSet_,\"Only valid if end has been set\"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return h.assert(this.endSet_,\"Only valid if end has been set\"),this.endNameSet_?this.indexEndName_:D},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&\"\"!==this.viewFrom_},t.prototype.getLimit=function(){return h.assert(this.limitSet_,\"Only valid if limit has been set\"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=\"\",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=\"\"),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=\"\"),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;\"\"===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Rt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Rt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new fe(this.getIndex()):this.hasLimit()?new $e(this):new Xe(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Rt?e=n.PRIORITY_INDEX:this.index_===Kt?e=n.VALUE_INDEX:this.index_===Ct?e=n.KEY_INDEX:(h.assert(this.index_ instanceof Yt,\"Unrecognized index type!\"),e=this.index_.toString()),r[n.ORDER_BY]=h.stringify(e),this.startSet_&&(r[n.START_AT]=h.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=\",\"+h.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=h.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=\",\"+h.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:\"sp\",INDEX_START_NAME:\"sn\",INDEX_END_VALUE:\"ep\",INDEX_END_NAME:\"en\",LIMIT:\"l\",VIEW_FROM:\"vf\",VIEW_FROM_LEFT:\"l\",VIEW_FROM_RIGHT:\"r\",INDEX:\"i\"},t.REST_QUERY_CONSTANTS_={ORDER_BY:\"orderBy\",PRIORITY_INDEX:\"$priority\",VALUE_INDEX:\"$value\",KEY_INDEX:\"$key\",START_AT:\"startAt\",END_AT:\"endAt\",LIMIT_TO_FIRST:\"limitToFirst\",LIMIT_TO_LAST:\"limitToLast\"},t.DEFAULT=new t,t}(),Ze=function(t){function e(e,n){if(!(e instanceof Ge))throw new Error(\"new Reference() no longer supported - use app.database().\");return t.call(this,e,n,Je.DEFAULT,!1)||this}return a.__extends(e,t),e.prototype.getKey=function(){return h.validateArgCount(\"Reference.key\",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return h.validateArgCount(\"Reference.child\",1,1,arguments.length),\"number\"==typeof t?t=String(t):t instanceof V||(null===this.path.getFront()?ut(\"Reference.child\",1,t,!1):lt(\"Reference.child\",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){h.validateArgCount(\"Reference.parent\",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){h.validateArgCount(\"Reference.root\",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){h.validateArgCount(\"Reference.set\",1,2,arguments.length),ct(\"Reference.set\",this.path),rt(\"Reference.set\",1,t,this.path,!1),h.validateCallback(\"Reference.set\",2,e,!0);var n=new h.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(h.validateArgCount(\"Reference.update\",1,2,arguments.length),ct(\"Reference.update\",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[\"\"+r]=t[r];t=n,N(\"Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}ot(\"Reference.update\",1,t,this.path,!1),h.validateCallback(\"Reference.update\",2,e,!0);var i=new h.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(h.validateArgCount(\"Reference.setWithPriority\",2,3,arguments.length),ct(\"Reference.setWithPriority\",this.path),rt(\"Reference.setWithPriority\",1,t,this.path,!1),st(\"Reference.setWithPriority\",2,e,!1),h.validateCallback(\"Reference.setWithPriority\",3,n,!0),\".length\"===this.getKey()||\".keys\"===this.getKey())throw\"Reference.setWithPriority failed: \"+this.getKey()+\" is a read-only object.\";var r=new h.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return h.validateArgCount(\"Reference.remove\",0,1,arguments.length),ct(\"Reference.remove\",this.path),h.validateCallback(\"Reference.remove\",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(h.validateArgCount(\"Reference.transaction\",1,3,arguments.length),ct(\"Reference.transaction\",this.path),h.validateCallback(\"Reference.transaction\",1,t,!1),h.validateCallback(\"Reference.transaction\",2,e,!0),dt(\"Reference.transaction\",3,n,!0),\".length\"===this.getKey()||\".keys\"===this.getKey())throw\"Reference.transaction failed: \"+this.getKey()+\" is a read-only object.\";void 0===n&&(n=!0);var r=new h.Deferred;\"function\"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new _t(n,i)),\"function\"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){h.validateArgCount(\"Reference.setPriority\",1,2,arguments.length),ct(\"Reference.setPriority\",this.path),st(\"Reference.setPriority\",1,t,!1),h.validateCallback(\"Reference.setPriority\",2,e,!0);var n=new h.Deferred;return this.repo.setWithPriority(this.path.child(\".priority\"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){h.validateArgCount(\"Reference.push\",0,2,arguments.length),ct(\"Reference.push\",this.path),rt(\"Reference.push\",1,t,this.path,!0),h.validateCallback(\"Reference.push\",2,e,!0);var n,r=this.repo.serverTime(),i=yt(r),o=this.child(i),s=this.child(i);return n=null!=t?o.set(t,e).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),\"function\"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return ct(\"Reference.onDisconnect\",this.path),new ft(this.repo,this.path)},Object.defineProperty(e.prototype,\"database\",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"key\",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"parent\",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"root\",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(Zt);Zt.__referenceConstructor=Ze,we.__referenceConstructor=Ze;var tn,en=function(){this.children={},this.childCount=0,this.value=null},nn=function(){function t(t,e,n){void 0===t&&(t=\"\"),void 0===e&&(e=null),void 0===n&&(n=new en),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof V?e:new V(e),r=this,i=n.getFront();null!==i;){r=new t(i,r,h.safeGet(r.node_.children,i)||new en),i=(n=n.popFront()).getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){h.assert(void 0!==t,\"Cannot set value to undefined\"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;L(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new V(null===this.parent_?this.name_:this.parent_.path()+\"/\"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=h.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]=\"RUN\",t[t.SENT=1]=\"SENT\",t[t.COMPLETED=2]=\"COMPLETED\",t[t.SENT_NEEDS_ABORT=3]=\"SENT_NEEDS_ABORT\",t[t.NEEDS_ABORT=4]=\"NEEDS_ABORT\"}(tn||(tn={})),Ge.MAX_TRANSACTION_RETRIES_=25,Ge.prototype.transactionsInit_=function(){this.transactionQueueTree_=new nn},Ge.prototype.startTransaction=function(t,e,n,r){this.log_(\"transaction on \"+t);var i=function(){},o=new Ze(this,t);o.on(\"value\",i);var s={path:t,update:e,onComplete:n,status:null,order:v(),applyLocally:r,retryCount:0,unwatcher:function(){o.off(\"value\",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=this.getLatestState_(t);s.currentInputSnapshot=a;var l=s.update(a.val());if(void 0===l){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var u=new zt(s.currentInputSnapshot,new Ze(this,s.path),Rt);s.onComplete(null,!1,u)}}else{it(\"transaction failed: Data returned \",l,s.path),s.status=tn.RUN;var c=this.transactionQueueTree_.subTree(t),p=c.getValue()||[];p.push(s),c.setValue(p);var d=void 0;if(\"object\"==typeof l&&null!==l&&h.contains(l,\".priority\"))d=h.safeGet(l,\".priority\"),h.assert(nt(d),\"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.\");else d=(this.serverSyncTree_.calcCompleteEventCache(t)||Ut.EMPTY_NODE).getPriority().val();d=d;var f=this.generateServerValues(),_=Ht(l,d),y=ne(_,f);s.currentOutputSnapshotRaw=_,s.currentOutputSnapshotResolved=y,s.currentWriteId=this.getNextWriteId_();var g=this.serverSyncTree_.applyUserOverwrite(t,y,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,g),this.sendReadyTransactions_()}},Ge.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Ut.EMPTY_NODE},Ge.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);h.assert(n.length>0,\"Sending zero length transaction queue\"),n.every((function(t){return t.status===tn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},Ge.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),o=i,s=i.hash(),a=0;a<e.length;a++){var l=e[a];h.assert(l.status===tn.RUN,\"tryToSendTransactionQueue_: items in queue should all be run.\"),l.status=tn.SENT,l.retryCount++;var u=V.relativePath(t,l.path);o=o.updateChild(u,l.currentOutputSnapshotRaw)}var c=o.val(!0),p=t;this.server_.put(p.toString(),c,(function(r){n.log_(\"transaction put response\",{path:p.toString(),status:r});var i=[];if(\"ok\"===r){for(var o=[],s=0;s<e.length;s++){if(e[s].status=tn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,h=new Ze(n,e[s].path),l=new zt(a,h,Rt);o.push(e[s].onComplete.bind(null,null,!0,l))}e[s].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(s=0;s<o.length;s++)Q(o[s])}else{if(\"datastale\"===r)for(s=0;s<e.length;s++)e[s].status===tn.SENT_NEEDS_ABORT?e[s].status=tn.NEEDS_ABORT:e[s].status=tn.RUN;else{N(\"transaction at \"+p.toString()+\" failed: \"+r);for(s=0;s<e.length;s++)e[s].status=tn.NEEDS_ABORT,e[s].abortReason=r}n.rerunTransactions_(t)}}),s)},Ge.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},Ge.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],i=[],o=t.filter((function(t){return t.status===tn.RUN})).map((function(t){return t.currentWriteId})),s=0;s<t.length;s++){var a=t[s],l=V.relativePath(e,a.path),u=!1,c=void 0;if(h.assert(null!==l,\"rerunTransactionsUnderNode_: relativePath should not be null.\"),a.status===tn.NEEDS_ABORT)u=!0,c=a.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===tn.RUN)if(a.retryCount>=Ge.MAX_TRANSACTION_RETRIES_)u=!0,c=\"maxretry\",i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var p=this.getLatestState_(a.path,o);a.currentInputSnapshot=p;var d=t[s].update(p.val());if(void 0!==d){it(\"transaction failed: Data returned \",d,a.path);var f=Ht(d);\"object\"==typeof d&&null!=d&&h.contains(d,\".priority\")||(f=f.updatePriority(p.getPriority()));var _=a.currentWriteId,y=this.generateServerValues(),v=ne(f,y);a.currentOutputSnapshotRaw=f,a.currentOutputSnapshotResolved=v,a.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(_),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(a.path,v,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(_,!0))}else u=!0,c=\"nodata\",i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],u&&(t[s].status=tn.COMPLETED,n=t[s].unwatcher,setTimeout(n,Math.floor(0)),t[s].onComplete))if(\"nodata\"===c){var g=new Ze(this,t[s].path),m=t[s].currentInputSnapshot,C=new zt(m,g,Rt);r.push(t[s].onComplete.bind(null,null,!1,C))}else r.push(t[s].onComplete.bind(null,new Error(c),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(s=0;s<r.length;s++)Q(r[s]);this.sendReadyTransactions_()}},Ge.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},Ge.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},Ge.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},Ge.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==tn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},Ge.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},Ge.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)if(e[o].status===tn.SENT_NEEDS_ABORT);else if(e[o].status===tn.SENT)h.assert(i===o-1,\"All SENT items should be at beginning of queue.\"),i=o,e[o].status=tn.SENT_NEEDS_ABORT,e[o].abortReason=\"set\";else if(h.assert(e[o].status===tn.RUN,\"Unexpected transaction status in abort\"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){n.push(e[o].onComplete.bind(null,new Error(\"set\"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(o=0;o<n.length;o++)Q(n[o])}};var rn,on=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return rn||(rn=new t),rn},t.prototype.interrupt=function(){var t,e,n,r;try{for(var i=a.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var h=(n=void 0,a.__values(Object.keys(this.repos_[s]))),l=h.next();!l.done;l=h.next()){var u=l.value;this.repos_[s][u].interrupt()}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var i=a.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var h=(n=void 0,a.__values(Object.keys(this.repos_[s]))),l=h.next();!l.done;l=h.next()){var u=l.value;this.repos_[s][u].resume()}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n){var i=n||t.options.databaseURL;void 0===i&&I(\"Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().\");var o=X(i),s=o.repoInfo,a=void 0;return void 0!==r&&(a={}.FIREBASE_DATABASE_EMULATOR_HOST),a&&(i=\"http://\"+a+\"?ns=\"+s.namespace,s=(o=X(i)).repoInfo),pt(\"Invalid Firebase Database URL\",1,o),o.path.isEmpty()||I(\"Database URL must point to the root of a Firebase Database (not including a child path).\"),this.createRepo(s,t,e).database},t.prototype.deleteRepo=function(t){var e=h.safeGet(this.repos_,t.app.name);e&&h.safeGet(e,t.repoInfo_.toURLString())===t||I(\"Database \"+t.app.name+\"(\"+t.repoInfo_+\") has already been deleted.\"),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=h.safeGet(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=h.safeGet(r,t.toURLString());return i&&I(\"Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.\"),i=new Ge(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),sn=function(){function t(t){this.repo_=t,t instanceof Ge||I(\"Don't call new Database() directly - please use firebase.database().\"),this.root_=new Ze(t,V.Empty),this.INTERNAL=new an(this)}return Object.defineProperty(t.prototype,\"app\",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_(\"ref\"),h.validateArgCount(\"database.ref\",0,1,arguments.length),t instanceof Ze?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e=\"database.refFromURL\";this.checkDeleted_(e),h.validateArgCount(e,1,1,arguments.length);var n=X(t);pt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&I(e+\": Host name does not match the current database: (found \"+r.host+\" but expected \"+this.repo_.repoInfo_.host+\")\"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&I(\"Cannot call \"+t+\" on a deleted database.\")},t.prototype.goOffline=function(){h.validateArgCount(\"database.goOffline\",0,0,arguments.length),this.checkDeleted_(\"goOffline\"),this.repo_.interrupt()},t.prototype.goOnline=function(){h.validateArgCount(\"database.goOnline\",0,0,arguments.length),this.checkDeleted_(\"goOnline\"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{\".sv\":\"timestamp\"}},t}(),an=function(){function t(t){this.database=t}return t.prototype.delete=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return this.database.checkDeleted_(\"delete\"),on.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),hn=Object.freeze({__proto__:null,forceLongPolling:function(){He.forceDisallow(),qe.forceAllow()},forceWebSockets:function(){qe.forceDisallow()},isWebSocketsAvailable:function(){return He.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),ln=Ye;Ye.prototype.simpleListen=function(t,e){this.sendRequest(\"q\",{p:t},e)},Ye.prototype.echo=function(t,e){this.sendRequest(\"echo\",{d:t},e)};var un=Be,cn=j,pn=Object.freeze({__proto__:null,DataConnection:ln,RealTimeConnection:un,hijackHash:function(t){var e=Ye.prototype.put;return Ye.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Ye.prototype.put=e}},ConnectionTarget:cn,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){on.getInstance().forceRestClient(t)}}),dn=sn.ServerValue;function fn(e){!function(t){Ue=t}(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new u.Component(\"database\",(function(t,e){var n=t.getProvider(\"app\").getImmediate(),r=t.getProvider(\"auth-internal\");return on.getInstance().databaseFromApp(n,r,e)}),\"PUBLIC\").setServiceProps({Reference:Ze,Query:Zt,Database:sn,DataSnapshot:zt,enableLogging:w,INTERNAL:hn,ServerValue:dn,TEST_ACCESS:pn}).setMultipleInstances(!0));e.registerVersion(\"@firebase/database\",\"0.5.24\"),h.isNodeSdk()&&(t.exports=n)}fn(s),e.DataSnapshot=zt,e.Database=sn,e.OnDisconnect=ft,e.Query=Zt,e.Reference=Ze,e.ServerValue=dn,e.enableLogging=w,e.registerDatabase=fn}).call(this,n(\"8oxB\"))}}]);","extractedComments":[]}